{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://verso-shopify-theme/./node_modules/@castiron/style-mixins/dist/base.js","webpack://verso-shopify-theme/./node_modules/@castiron/style-mixins/dist/index.js","webpack://verso-shopify-theme/./node_modules/@castiron/style-mixins/dist/state.js","webpack://verso-shopify-theme/./node_modules/fontfaceobserver/fontfaceobserver.standalone.js","webpack://verso-shopify-theme/./node_modules/headroom.js/dist/headroom.js","webpack://verso-shopify-theme/./node_modules/lodash/_Symbol.js","webpack://verso-shopify-theme/./node_modules/lodash/_baseGetTag.js","webpack://verso-shopify-theme/./node_modules/lodash/_baseTrim.js","webpack://verso-shopify-theme/./node_modules/lodash/_freeGlobal.js","webpack://verso-shopify-theme/./node_modules/lodash/_getRawTag.js","webpack://verso-shopify-theme/./node_modules/lodash/_objectToString.js","webpack://verso-shopify-theme/./node_modules/lodash/_root.js","webpack://verso-shopify-theme/./node_modules/lodash/_trimmedEndIndex.js","webpack://verso-shopify-theme/./node_modules/lodash/debounce.js","webpack://verso-shopify-theme/./node_modules/lodash/isObject.js","webpack://verso-shopify-theme/./node_modules/lodash/isObjectLike.js","webpack://verso-shopify-theme/./node_modules/lodash/isSymbol.js","webpack://verso-shopify-theme/./node_modules/lodash/now.js","webpack://verso-shopify-theme/./node_modules/lodash/toNumber.js","webpack://verso-shopify-theme/./node_modules/classnames/index.js","webpack://verso-shopify-theme/webpack/bootstrap","webpack://verso-shopify-theme/webpack/runtime/compat get default export","webpack://verso-shopify-theme/webpack/runtime/define property getters","webpack://verso-shopify-theme/webpack/runtime/global","webpack://verso-shopify-theme/webpack/runtime/hasOwnProperty shorthand","webpack://verso-shopify-theme/../src/index.js","webpack://verso-shopify-theme/../index.js","webpack://verso-shopify-theme/./src/js/behaviors/abstract/StatefulBehavior.js","webpack://verso-shopify-theme/./src/js/helpers/checkCanFocusTrap.js","webpack://verso-shopify-theme/./src/js/helpers/dom.js","webpack://verso-shopify-theme/./src/js/behaviors/content/OpenDialog.js","webpack://verso-shopify-theme/./src/js/behaviors/content/index.js","webpack://verso-shopify-theme/./src/js/behaviors/site/ToggleDrawer.js","webpack://verso-shopify-theme/./src/js/behaviors/site/index.js","webpack://verso-shopify-theme/./src/js/behaviors/index.js","webpack://verso-shopify-theme/./src/js/behaviors/site/ObserveFontFace.js","webpack://verso-shopify-theme/./src/js/behaviors/site/SetCSSProperties.js","webpack://verso-shopify-theme/./src/js/behaviors/site/ShrinkHeaderOnScroll.js","webpack://verso-shopify-theme/./src/js/helpers/fetch.js","webpack://verso-shopify-theme/./src/js/components/AddToCart.js","webpack://verso-shopify-theme/./src/js/components/AnnouncementBar.js","webpack://verso-shopify-theme/./src/js/helpers/market.js","webpack://verso-shopify-theme/./src/js/components/ArticleContent.js","webpack://verso-shopify-theme/./src/js/components/CartItems.js","webpack://verso-shopify-theme/./src/js/components/FreeShippingProgress.js","webpack://verso-shopify-theme/./src/js/components/LoadMore.js","webpack://verso-shopify-theme/./src/js/components/LocalizationForm.js","webpack://verso-shopify-theme/./src/js/components/NavLink.js","webpack://verso-shopify-theme/./src/js/components/NextMonthTitle.js","webpack://verso-shopify-theme/./src/js/components/PageSelect.js","webpack://verso-shopify-theme/./src/js/components/PredictiveSearch.js","webpack://verso-shopify-theme/./src/js/components/ProductRecommendations.js","webpack://verso-shopify-theme/./src/js/components/QuantityInput.js","webpack://verso-shopify-theme/./src/js/components/RegisterForm.js","webpack://verso-shopify-theme/./src/js/components/RelatedArticles.js","webpack://verso-shopify-theme/./src/js/components/RemoveItem.js","webpack://verso-shopify-theme/./src/js/components/ShowHide.js","webpack://verso-shopify-theme/./src/main.js","webpack://verso-shopify-theme/./src/js/helpers/Percolator.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fluidScaleRemBase = exports.fluidScalePxBase = exports.fluidScaleCalc = exports.fluidScaleBase = void 0;\nexports.pxToRem = pxToRem;\nexports.stripUnit = void 0;\n// Base functions\n// Common application-wide mixins, such as for writing media\n// queries or fluidly scaling type and space values.\n// --------------------------------------------------------\n// Media queries\n// --------------------------------------------------------\nconst DEFAULT_BREAKPOINTS = {\n  130: \"1280px\",\n  50: \"516px\"\n}; // Fluid Elements\n// --------------------------------------------------------\n// Set min and max sizes and breakpoints and let  fluidly scale different properties in-between\n// This function is meant to be used as a base for your mixin, with your defined breakpoints\n\nconst fluidScalePxBase = (max, min, maxVw, minVw) => {\n  const maxNum = stripUnit(max);\n  const minNum = stripUnit(min);\n\n  if (minNum > maxNum) {\n    return `clamp(${max}, ${fluidScaleCalc(max, min, maxVw, minVw)}, ${min})`;\n  }\n\n  return `clamp(${min}, ${fluidScaleCalc(max, min, maxVw, minVw)}, ${max})`;\n}; // `fluidScaleBase` is the legacy name for `fluidScalePxBase`\n\n\nexports.fluidScalePxBase = fluidScalePxBase;\nconst fluidScaleBase = fluidScalePxBase; // return fluid-scale calc value\n\nexports.fluidScaleBase = fluidScaleBase;\n\nconst fluidScaleCalc = function (maxValue, minValue) {\n  let maxVw = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_BREAKPOINTS[130];\n  let minVw = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_BREAKPOINTS[50];\n  return `calc(${minValue} + ${stripUnit(maxValue) - stripUnit(minValue)} * (100vw - ${minVw}) / ${stripUnit(maxVw) - stripUnit(minVw)})`;\n}; // adapted from https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport/\n\n\nexports.fluidScaleCalc = fluidScaleCalc;\n\nconst fluidScaleRemBase = function (maxPx, minPx, maxVwRem, minVwRem) {\n  let pxPerRem = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 16;\n  const maxRem = pxToRem(maxPx, pxPerRem);\n  const minRem = pxToRem(minPx, pxPerRem);\n  const max = parseFloat(maxRem);\n  const min = parseFloat(minRem);\n  const maxVw = parseFloat(maxVwRem);\n  const minVw = parseFloat(minVwRem);\n  if (max === min) return maxRem;\n  const slope = (max - min) / (maxVw - minVw);\n  const yAxisIntersection = -minVw * slope + min;\n  const preferredValue = `${yAxisIntersection.toFixed(3)}rem + ${(slope * 100).toFixed(4)}vw`;\n  return `clamp(${minRem}, ${preferredValue}, ${maxRem})`;\n}; // used by fluid-scale mixin\n\n\nexports.fluidScaleRemBase = fluidScaleRemBase;\n\nconst stripUnit = unit => {\n  return parseInt(unit.toString().replace(/[^\\d\\.]/g, \"\")); // eslint-disable-line no-useless-escape\n}; // convert px to em\n\n\nexports.stripUnit = stripUnit;\n\nfunction pxToRem(px) {\n  let base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n  return stripUnit(px) / base + \"rem\";\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _appearance = require(\"./appearance\");\n\nObject.keys(_appearance).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _appearance[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _appearance[key];\n    }\n  });\n});\n\nvar _base = require(\"./base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _state = require(\"./state\");\n\nObject.keys(_state).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _state[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _state[key];\n    }\n  });\n});\n\nvar _typography = require(\"./typography\");\n\nObject.keys(_typography).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _typography[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _typography[key];\n    }\n  });\n});\n\nvar _layout = require(\"./layout\");\n\nObject.keys(_layout).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _layout[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _layout[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasScrollLock = void 0;\n\n// State functions\n// Mixins for common state-specific styles like scroll-locking, prefixed with `is` or `has`.\n// --------------------------------------------------------\nconst hasScrollLock = () => ({\n  position: \"absolute\",\n  width: \"100%\",\n  overflow: \"hidden\"\n});\n\nexports.hasScrollLock = hasScrollLock;","/* Font Face Observer v2.3.0 -  Bram Stein. License: BSD-3-Clause */(function(){function p(a,c){document.addEventListener?a.addEventListener(\"scroll\",c,!1):a.attachEvent(\"scroll\",c)}function u(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function b(){document.removeEventListener(\"DOMContentLoaded\",b);a()}):document.attachEvent(\"onreadystatechange\",function g(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",g),a()})};function w(a){this.g=document.createElement(\"div\");this.g.setAttribute(\"aria-hidden\",\"true\");this.g.appendChild(document.createTextNode(a));this.h=document.createElement(\"span\");this.i=document.createElement(\"span\");this.m=document.createElement(\"span\");this.j=document.createElement(\"span\");this.l=-1;this.h.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.i.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.j.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.m.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.h.appendChild(this.m);this.i.appendChild(this.j);this.g.appendChild(this.h);this.g.appendChild(this.i)}\nfunction x(a,c){a.g.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+c+\";\"}function B(a){var c=a.g.offsetWidth,b=c+100;a.j.style.width=b+\"px\";a.i.scrollLeft=b;a.h.scrollLeft=a.h.scrollWidth+100;return a.l!==c?(a.l=c,!0):!1}function C(a,c){function b(){var e=g;B(e)&&null!==e.g.parentNode&&c(e.l)}var g=a;p(a.h,b);p(a.i,b);B(a)};function D(a,c,b){c=c||{};b=b||window;this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\";this.context=b}var E=null,F=null,G=null,H=null;function I(a){null===F&&(M(a)&&/Apple/.test(window.navigator.vendor)?(a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent),F=!!a&&603>parseInt(a[1],10)):F=!1);return F}function M(a){null===H&&(H=!!a.document.fonts);return H}\nfunction N(a,c){var b=a.style,g=a.weight;if(null===G){var e=document.createElement(\"div\");try{e.style.font=\"condensed 100px sans-serif\"}catch(q){}G=\"\"!==e.style.font}return[b,g,G?a.stretch:\"\",\"100px\",c].join(\" \")}\nD.prototype.load=function(a,c){var b=this,g=a||\"BESbswy\",e=0,q=c||3E3,J=(new Date).getTime();return new Promise(function(K,L){if(M(b.context)&&!I(b.context)){var O=new Promise(function(r,t){function h(){(new Date).getTime()-J>=q?t(Error(\"\"+q+\"ms timeout exceeded\")):b.context.document.fonts.load(N(b,'\"'+b.family+'\"'),g).then(function(n){1<=n.length?r():setTimeout(h,25)},t)}h()}),P=new Promise(function(r,t){e=setTimeout(function(){t(Error(\"\"+q+\"ms timeout exceeded\"))},q)});Promise.race([P,O]).then(function(){clearTimeout(e);\nK(b)},L)}else u(function(){function r(){var d;if(d=-1!=k&&-1!=l||-1!=k&&-1!=m||-1!=l&&-1!=m)(d=k!=l&&k!=m&&l!=m)||(null===E&&(d=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),E=!!d&&(536>parseInt(d[1],10)||536===parseInt(d[1],10)&&11>=parseInt(d[2],10))),d=E&&(k==y&&l==y&&m==y||k==z&&l==z&&m==z||k==A&&l==A&&m==A)),d=!d;d&&(null!==f.parentNode&&f.parentNode.removeChild(f),clearTimeout(e),K(b))}function t(){if((new Date).getTime()-J>=q)null!==f.parentNode&&f.parentNode.removeChild(f),\nL(Error(\"\"+q+\"ms timeout exceeded\"));else{var d=b.context.document.hidden;if(!0===d||void 0===d)k=h.g.offsetWidth,l=n.g.offsetWidth,m=v.g.offsetWidth,r();e=setTimeout(t,50)}}var h=new w(g),n=new w(g),v=new w(g),k=-1,l=-1,m=-1,y=-1,z=-1,A=-1,f=document.createElement(\"div\");f.dir=\"ltr\";x(h,N(b,\"sans-serif\"));x(n,N(b,\"serif\"));x(v,N(b,\"monospace\"));f.appendChild(h.g);f.appendChild(n.g);f.appendChild(v.g);b.context.document.body.appendChild(f);y=h.g.offsetWidth;z=n.g.offsetWidth;A=v.g.offsetWidth;t();\nC(h,function(d){k=d;r()});x(h,N(b,'\"'+b.family+'\",sans-serif'));C(n,function(d){l=d;r()});x(n,N(b,'\"'+b.family+'\",serif'));C(v,function(d){m=d;r()});x(v,N(b,'\"'+b.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=D:(window.FontFaceObserver=D,window.FontFaceObserver.prototype.load=D.prototype.load);}());\n","/*!\n * headroom.js v0.12.0 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2020 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Headroom = factory());\n}(this, function () { 'use strict';\n\n  function isBrowser() {\n    return typeof window !== \"undefined\";\n  }\n\n  /**\n   * Used to detect browser support for adding an event listener with options\n   * Credit: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   */\n  function passiveEventsSupported() {\n    var supported = false;\n\n    try {\n      var options = {\n        // eslint-disable-next-line getter-return\n        get passive() {\n          supported = true;\n        }\n      };\n      window.addEventListener(\"test\", options, options);\n      window.removeEventListener(\"test\", options, options);\n    } catch (err) {\n      supported = false;\n    }\n\n    return supported;\n  }\n\n  function isSupported() {\n    return !!(\n      isBrowser() &&\n      function() {}.bind &&\n      \"classList\" in document.documentElement &&\n      Object.assign &&\n      Object.keys &&\n      requestAnimationFrame\n    );\n  }\n\n  function isDocument(obj) {\n    return obj.nodeType === 9; // Node.DOCUMENT_NODE === 9\n  }\n\n  function isWindow(obj) {\n    // `obj === window` or `obj instanceof Window` is not sufficient,\n    // as the obj may be the window of an iframe.\n    return obj && obj.document && isDocument(obj.document);\n  }\n\n  function windowScroller(win) {\n    var doc = win.document;\n    var body = doc.body;\n    var html = doc.documentElement;\n\n    return {\n      /**\n       * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n       * @return {Number} the scroll height of the document in pixels\n       */\n      scrollHeight: function() {\n        return Math.max(\n          body.scrollHeight,\n          html.scrollHeight,\n          body.offsetHeight,\n          html.offsetHeight,\n          body.clientHeight,\n          html.clientHeight\n        );\n      },\n\n      /**\n       * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n       * @return {Number} the height of the viewport in pixels\n       */\n      height: function() {\n        return win.innerHeight || html.clientHeight || body.clientHeight;\n      },\n\n      /**\n       * Gets the Y scroll position\n       * @return {Number} pixels the page has scrolled along the Y-axis\n       */\n      scrollY: function() {\n        if (win.pageYOffset !== undefined) {\n          return win.pageYOffset;\n        }\n\n        return (html || body.parentNode || body).scrollTop;\n      }\n    };\n  }\n\n  function elementScroller(element) {\n    return {\n      /**\n       * @return {Number} the scroll height of the element in pixels\n       */\n      scrollHeight: function() {\n        return Math.max(\n          element.scrollHeight,\n          element.offsetHeight,\n          element.clientHeight\n        );\n      },\n\n      /**\n       * @return {Number} the height of the element in pixels\n       */\n      height: function() {\n        return Math.max(element.offsetHeight, element.clientHeight);\n      },\n\n      /**\n       * Gets the Y scroll position\n       * @return {Number} pixels the element has scrolled along the Y-axis\n       */\n      scrollY: function() {\n        return element.scrollTop;\n      }\n    };\n  }\n\n  function createScroller(element) {\n    return isWindow(element) ? windowScroller(element) : elementScroller(element);\n  }\n\n  /**\n   * @param element EventTarget\n   */\n  function trackScroll(element, options, callback) {\n    var isPassiveSupported = passiveEventsSupported();\n    var rafId;\n    var scrolled = false;\n    var scroller = createScroller(element);\n    var lastScrollY = scroller.scrollY();\n    var details = {};\n\n    function update() {\n      var scrollY = Math.round(scroller.scrollY());\n      var height = scroller.height();\n      var scrollHeight = scroller.scrollHeight();\n\n      // reuse object for less memory churn\n      details.scrollY = scrollY;\n      details.lastScrollY = lastScrollY;\n      details.direction = scrollY > lastScrollY ? \"down\" : \"up\";\n      details.distance = Math.abs(scrollY - lastScrollY);\n      details.isOutOfBounds = scrollY < 0 || scrollY + height > scrollHeight;\n      details.top = scrollY <= options.offset[details.direction];\n      details.bottom = scrollY + height >= scrollHeight;\n      details.toleranceExceeded =\n        details.distance > options.tolerance[details.direction];\n\n      callback(details);\n\n      lastScrollY = scrollY;\n      scrolled = false;\n    }\n\n    function handleScroll() {\n      if (!scrolled) {\n        scrolled = true;\n        rafId = requestAnimationFrame(update);\n      }\n    }\n\n    var eventOptions = isPassiveSupported\n      ? { passive: true, capture: false }\n      : false;\n\n    element.addEventListener(\"scroll\", handleScroll, eventOptions);\n    update();\n\n    return {\n      destroy: function() {\n        cancelAnimationFrame(rafId);\n        element.removeEventListener(\"scroll\", handleScroll, eventOptions);\n      }\n    };\n  }\n\n  function normalizeUpDown(t) {\n    return t === Object(t) ? t : { down: t, up: t };\n  }\n\n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom(elem, options) {\n    options = options || {};\n    Object.assign(this, Headroom.options, options);\n    this.classes = Object.assign({}, Headroom.options.classes, options.classes);\n\n    this.elem = elem;\n    this.tolerance = normalizeUpDown(this.tolerance);\n    this.offset = normalizeUpDown(this.offset);\n    this.initialised = false;\n    this.frozen = false;\n  }\n  Headroom.prototype = {\n    constructor: Headroom,\n\n    /**\n     * Start listening to scrolling\n     * @public\n     */\n    init: function() {\n      if (Headroom.cutsTheMustard && !this.initialised) {\n        this.addClass(\"initial\");\n        this.initialised = true;\n\n        // defer event registration to handle browser\n        // potentially restoring previous scroll position\n        setTimeout(\n          function(self) {\n            self.scrollTracker = trackScroll(\n              self.scroller,\n              { offset: self.offset, tolerance: self.tolerance },\n              self.update.bind(self)\n            );\n          },\n          100,\n          this\n        );\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the widget, clearing up after itself\n     * @public\n     */\n    destroy: function() {\n      this.initialised = false;\n      Object.keys(this.classes).forEach(this.removeClass, this);\n      this.scrollTracker.destroy();\n    },\n\n    /**\n     * Unpin the element\n     * @public\n     */\n    unpin: function() {\n      if (this.hasClass(\"pinned\") || !this.hasClass(\"unpinned\")) {\n        this.addClass(\"unpinned\");\n        this.removeClass(\"pinned\");\n\n        if (this.onUnpin) {\n          this.onUnpin.call(this);\n        }\n      }\n    },\n\n    /**\n     * Pin the element\n     * @public\n     */\n    pin: function() {\n      if (this.hasClass(\"unpinned\")) {\n        this.addClass(\"pinned\");\n        this.removeClass(\"unpinned\");\n\n        if (this.onPin) {\n          this.onPin.call(this);\n        }\n      }\n    },\n\n    /**\n     * Freezes the current state of the widget\n     * @public\n     */\n    freeze: function() {\n      this.frozen = true;\n      this.addClass(\"frozen\");\n    },\n\n    /**\n     * Re-enables the default behaviour of the widget\n     * @public\n     */\n    unfreeze: function() {\n      this.frozen = false;\n      this.removeClass(\"frozen\");\n    },\n\n    top: function() {\n      if (!this.hasClass(\"top\")) {\n        this.addClass(\"top\");\n        this.removeClass(\"notTop\");\n\n        if (this.onTop) {\n          this.onTop.call(this);\n        }\n      }\n    },\n\n    notTop: function() {\n      if (!this.hasClass(\"notTop\")) {\n        this.addClass(\"notTop\");\n        this.removeClass(\"top\");\n\n        if (this.onNotTop) {\n          this.onNotTop.call(this);\n        }\n      }\n    },\n\n    bottom: function() {\n      if (!this.hasClass(\"bottom\")) {\n        this.addClass(\"bottom\");\n        this.removeClass(\"notBottom\");\n\n        if (this.onBottom) {\n          this.onBottom.call(this);\n        }\n      }\n    },\n\n    notBottom: function() {\n      if (!this.hasClass(\"notBottom\")) {\n        this.addClass(\"notBottom\");\n        this.removeClass(\"bottom\");\n\n        if (this.onNotBottom) {\n          this.onNotBottom.call(this);\n        }\n      }\n    },\n\n    shouldUnpin: function(details) {\n      var scrollingDown = details.direction === \"down\";\n\n      return scrollingDown && !details.top && details.toleranceExceeded;\n    },\n\n    shouldPin: function(details) {\n      var scrollingUp = details.direction === \"up\";\n\n      return (scrollingUp && details.toleranceExceeded) || details.top;\n    },\n\n    addClass: function(className) {\n      this.elem.classList.add.apply(\n        this.elem.classList,\n        this.classes[className].split(\" \")\n      );\n    },\n\n    removeClass: function(className) {\n      this.elem.classList.remove.apply(\n        this.elem.classList,\n        this.classes[className].split(\" \")\n      );\n    },\n\n    hasClass: function(className) {\n      return this.classes[className].split(\" \").every(function(cls) {\n        return this.classList.contains(cls);\n      }, this.elem);\n    },\n\n    update: function(details) {\n      if (details.isOutOfBounds) {\n        // Ignore bouncy scrolling in OSX\n        return;\n      }\n\n      if (this.frozen === true) {\n        return;\n      }\n\n      if (details.top) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n\n      if (details.bottom) {\n        this.bottom();\n      } else {\n        this.notBottom();\n      }\n\n      if (this.shouldUnpin(details)) {\n        this.unpin();\n      } else if (this.shouldPin(details)) {\n        this.pin();\n      }\n    }\n  };\n\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance: {\n      up: 0,\n      down: 0\n    },\n    offset: 0,\n    scroller: isBrowser() ? window : null,\n    classes: {\n      frozen: \"headroom--frozen\",\n      pinned: \"headroom--pinned\",\n      unpinned: \"headroom--unpinned\",\n      top: \"headroom--top\",\n      notTop: \"headroom--not-top\",\n      bottom: \"headroom--bottom\",\n      notBottom: \"headroom--not-bottom\",\n      initial: \"headroom\"\n    }\n  };\n\n  Headroom.cutsTheMustard = isSupported();\n\n  return Headroom;\n\n}));\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n","import {\n  tabbable,\n  focusable,\n  isFocusable,\n  isTabbable,\n  getTabIndex,\n} from 'tabbable';\n\nconst activeFocusTraps = {\n  activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      const activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap._setPausedState(true);\n      }\n    }\n\n    const trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n\n  deactivateTrap(trapStack, trap) {\n    const trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n\n    if (\n      trapStack.length > 0 &&\n      !trapStack[trapStack.length - 1]._isManuallyPaused()\n    ) {\n      trapStack[trapStack.length - 1]._setPausedState(false);\n    }\n  },\n};\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e?.key === 'Escape' || e?.key === 'Esc' || e?.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e?.key === 'Tab' || e?.keyCode === 9;\n};\n\n// checks for TAB by default\nconst isKeyForward = function (e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nconst isKeyBackward = function (e) {\n  return isTabEvent(e) && e.shiftKey;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst getActualTarget = function (event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function'\n    ? event.composedPath()[0]\n    : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nconst internalTrapStack = [];\n\nconst createFocusTrap = function (elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  const doc = userOptions?.document || document;\n\n  const trapStack = userOptions?.trapStack || internalTrapStack;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward,\n    isKeyBackward,\n    ...userOptions,\n  };\n\n  const state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   posTabIndexesFound: boolean,\n    //   firstTabbableNode: HTMLElement|undefined,\n    //   lastTabbableNode: HTMLElement|undefined,\n    //   firstDomTabbableNode: HTMLElement|undefined,\n    //   lastDomTabbableNode: HTMLElement|undefined,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [], // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    manuallyPaused: false,\n\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n\n    // the most recent KeyboardEvent for the configured nav key (typically [SHIFT+]TAB), if any\n    recentNavEvent: undefined,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @param {Event} [event] If available, and `element` isn't directly found in any container,\n   *  the event's composed path is used to see if includes any known trap containers in the\n   *  case where the element is inside a Shadow DOM.\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  const findContainerIndex = function (element, event) {\n    const composedPath =\n      typeof event?.composedPath === 'function'\n        ? event.composedPath()\n        : undefined;\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(\n      ({ container, tabbableNodes }) =>\n        container.contains(element) ||\n        // fall back to explicit tabbable search which will take into consideration any\n        //  web components if the `tabbableOptions.getShadowRoot` option was used for\n        //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n        //  look inside web components even if open)\n        composedPath?.includes(container) ||\n        tabbableNodes.find((node) => node === element)\n    );\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @param {Object} options\n   * @param {boolean} [options.hasFallback] True if the option could be a selector string\n   *  and the option allows for a fallback scenario in the case where the selector is\n   *  valid but does not match a node (i.e. the queried node doesn't exist in the DOM).\n   * @param {Array} [options.params] Params to pass to the option if it's a function.\n   * @returns {undefined | null | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `null` if the option didn't resolve\n   *  to a node but `options.hasFallback=true`, `false` if the option resolved to `false`\n   *  (node explicitly not given); otherwise, the resolved DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node, unless the option is a selector string and `options.hasFallback=true`.\n   */\n  const getNodeForOption = function (\n    optionName,\n    { hasFallback = false, params = [] } = {}\n  ) {\n    let optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      optionValue = optionValue(...params);\n    }\n\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\n        `\\`${optionName}\\` was specified but was not a node, or did not return a node`\n      );\n    }\n\n    let node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      try {\n        node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      } catch (err) {\n        throw new Error(\n          `\\`${optionName}\\` appears to be an invalid selector; error=\"${err.message}\"`\n        );\n      }\n\n      if (!node) {\n        if (!hasFallback) {\n          throw new Error(\n            `\\`${optionName}\\` as selector refers to no known node`\n          );\n        }\n        // else, `node` MUST be `null` because that's what `Document.querySelector()` returns\n        //  if the selector is valid but doesn't match anything\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node = getNodeForOption('initialFocus', { hasFallback: true });\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n\n    if (\n      node === undefined ||\n      (node && !isFocusable(node, config.tabbableOptions))\n    ) {\n      // option not specified nor focusable: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        const firstTabbableGroup = state.tabbableGroups[0];\n        const firstTabbableNode =\n          firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    } else if (node === null) {\n      // option is a VALID selector string that doesn't yield a node: use the `fallbackFocus`\n      //  option instead of the default behavior when the option isn't specified at all\n      node = getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.containerGroups = state.containers.map((container) => {\n      const tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes since nodes with negative `tabindex` attributes\n      //  are focusable but not tabbable\n      const focusableNodes = focusable(container, config.tabbableOptions);\n\n      const firstTabbableNode =\n        tabbableNodes.length > 0 ? tabbableNodes[0] : undefined;\n      const lastTabbableNode =\n        tabbableNodes.length > 0\n          ? tabbableNodes[tabbableNodes.length - 1]\n          : undefined;\n\n      const firstDomTabbableNode = focusableNodes.find((node) =>\n        isTabbable(node)\n      );\n      const lastDomTabbableNode = focusableNodes\n        .slice()\n        .reverse()\n        .find((node) => isTabbable(node));\n\n      const posTabIndexesFound = !!tabbableNodes.find(\n        (node) => getTabIndex(node) > 0\n      );\n\n      return {\n        container,\n        tabbableNodes,\n        focusableNodes,\n\n        /** True if at least one node with positive `tabindex` was found in this container. */\n        posTabIndexesFound,\n\n        /** First tabbable node in container, __tabindex__ order; `undefined` if none. */\n        firstTabbableNode,\n        /** Last tabbable node in container, __tabindex__ order; `undefined` if none. */\n        lastTabbableNode,\n\n        // NOTE: DOM order is NOT NECESSARILY \"document position\" order, but figuring that out\n        //  would require more than just https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n        //  because that API doesn't work with Shadow DOM as well as it should (@see\n        //  https://github.com/whatwg/dom/issues/320) and since this first/last is only needed, so far,\n        //  to address an edge case related to positive tabindex support, this seems like a much easier,\n        //  \"close enough most of the time\" alternative for positive tabindexes which should generally\n        //  be avoided anyway...\n        /** First tabbable node in container, __DOM__ order; `undefined` if none. */\n        firstDomTabbableNode,\n        /** Last tabbable node in container, __DOM__ order; `undefined` if none. */\n        lastDomTabbableNode,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode(node, forward = true) {\n          const nodeIdx = tabbableNodes.indexOf(node);\n          if (nodeIdx < 0) {\n            // either not tabbable nor focusable, or was focused but not tabbable (negative tabindex):\n            //  since `node` should at least have been focusable, we assume that's the case and mimic\n            //  what browsers do, which is set focus to the next node in __document position order__,\n            //  regardless of positive tabindexes, if any -- and for reasons explained in the NOTE\n            //  above related to `firstDomTabbable` and `lastDomTabbable` properties, we fall back to\n            //  basic DOM order\n            if (forward) {\n              return focusableNodes\n                .slice(focusableNodes.indexOf(node) + 1)\n                .find((el) => isTabbable(el));\n            }\n\n            return focusableNodes\n              .slice(0, focusableNodes.indexOf(node))\n              .reverse()\n              .find((el) => isTabbable(el));\n          }\n\n          return tabbableNodes[nodeIdx + (forward ? 1 : -1)];\n        },\n      };\n    });\n\n    state.tabbableGroups = state.containerGroups.filter(\n      (group) => group.tabbableNodes.length > 0\n    );\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n\n    // NOTE: Positive tabindexes are only properly supported in single-container traps because\n    //  doing it across multiple containers where tabindexes could be all over the place\n    //  would require Tabbable to support multiple containers, would require additional\n    //  specialized Shadow DOM support, and would require Tabbable's multi-container support\n    //  to look at those containers in document position order rather than user-provided\n    //  order (as they are treated in Focus-trap, for legacy reasons). See discussion on\n    //  https://github.com/focus-trap/focus-trap/issues/375 for more details.\n    if (\n      state.containerGroups.find((g) => g.posTabIndexesFound) &&\n      state.containerGroups.length > 1\n    ) {\n      throw new Error(\n        \"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\"\n      );\n    }\n  };\n\n  /**\n   * Gets the current activeElement. If it's a web-component and has open shadow-root\n   * it will recursively search inside shadow roots for the \"true\" activeElement.\n   *\n   * @param {Document | ShadowRoot} el\n   *\n   * @returns {HTMLElement} The element that currently has the focus\n   **/\n  const getActiveElement = function (el) {\n    const activeElement = el.activeElement;\n\n    if (!activeElement) {\n      return;\n    }\n\n    if (\n      activeElement.shadowRoot &&\n      activeElement.shadowRoot.activeElement !== null\n    ) {\n      return getActiveElement(activeElement.shadowRoot);\n    }\n\n    return activeElement;\n  };\n\n  const tryFocus = function (node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === getActiveElement(document)) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    // NOTE: focus() API does not trigger focusIn event so set MRU node manually\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus', {\n      params: [previousActiveElement],\n    });\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  /**\n   * Finds the next node (in either direction) where focus should move according to a\n   *  keyboard focus-in event.\n   * @param {Object} params\n   * @param {Node} [params.target] Known target __from which__ to navigate, if any.\n   * @param {KeyboardEvent|FocusEvent} [params.event] Event to use if `target` isn't known (event\n   *  will be used to determine the `target`). Ignored if `target` is specified.\n   * @param {boolean} [params.isBackward] True if focus should move backward.\n   * @returns {Node|undefined} The next node, or `undefined` if a next node couldn't be\n   *  determined given the current state of the trap.\n   */\n  const findNextNavNode = function ({ target, event, isBackward = false }) {\n    target = target || getActualTarget(event);\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findContainerIndex(target, event);\n      const containerGroup =\n        containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = state.tabbableGroups.findIndex(\n          ({ firstTabbableNode }) => target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target, false)))\n        ) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n\n          destinationNode =\n            getTabIndex(target) >= 0\n              ? destinationGroup.lastTabbableNode\n              : destinationGroup.lastDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = state.tabbableGroups.findIndex(\n          ({ lastTabbableNode }) => target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          (containerGroup.container === target ||\n            (isFocusable(target, config.tabbableOptions) &&\n              !isTabbable(target, config.tabbableOptions) &&\n              !containerGroup.nextTabbableNode(target)))\n        ) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n\n          destinationNode =\n            getTabIndex(target) >= 0\n              ? destinationGroup.firstTabbableNode\n              : destinationGroup.firstDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    return destinationNode;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target, e) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate,\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  // NOTE: the focusIn event is NOT cancelable, so if focus escapes, it may cause unexpected\n  //  scrolling if the node that got focused was out of view; there's nothing we can do to\n  //  prevent that from happening by the time we discover that focus escaped\n  const checkFocusIn = function (event) {\n    const target = getActualTarget(event);\n    const targetContained = findContainerIndex(target, event) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      event.stopImmediatePropagation();\n\n      // focus will escape if the MRU node had a positive tab index and user tried to nav forward;\n      //  it will also escape if the MRU node had a 0 tab index and user tried to nav backward\n      //  toward a node with a positive tab index\n      let nextNode; // next node to focus, if we find one\n      let navAcrossContainers = true;\n      if (state.mostRecentlyFocusedNode) {\n        if (getTabIndex(state.mostRecentlyFocusedNode) > 0) {\n          // MRU container index must be >=0 otherwise we wouldn't have it as an MRU node...\n          const mruContainerIdx = findContainerIndex(\n            state.mostRecentlyFocusedNode\n          );\n          // there MAY not be any tabbable nodes in the container if there are at least 2 containers\n          //  and the MRU node is focusable but not tabbable (focus-trap requires at least 1 container\n          //  with at least one tabbable node in order to function, so this could be the other container\n          //  with nothing tabbable in it)\n          const { tabbableNodes } = state.containerGroups[mruContainerIdx];\n          if (tabbableNodes.length > 0) {\n            // MRU tab index MAY not be found if the MRU node is focusable but not tabbable\n            const mruTabIdx = tabbableNodes.findIndex(\n              (node) => node === state.mostRecentlyFocusedNode\n            );\n            if (mruTabIdx >= 0) {\n              if (config.isKeyForward(state.recentNavEvent)) {\n                if (mruTabIdx + 1 < tabbableNodes.length) {\n                  nextNode = tabbableNodes[mruTabIdx + 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              } else {\n                if (mruTabIdx - 1 >= 0) {\n                  nextNode = tabbableNodes[mruTabIdx - 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              }\n              // else, don't find in container order without considering direction too\n            }\n          }\n          // else, no tabbable nodes in that container (which means we must have at least one other\n          //  container with at least one tabbable node in it, otherwise focus-trap would've thrown\n          //  an error the last time updateTabbableNodes() was run): find next node among all known\n          //  containers\n        } else {\n          // check to see if there's at least one tabbable node with a positive tab index inside\n          //  the trap because focus seems to escape when navigating backward from a tabbable node\n          //  with tabindex=0 when this is the case (instead of wrapping to the tabbable node with\n          //  the greatest positive tab index like it should)\n          if (\n            !state.containerGroups.some((g) =>\n              g.tabbableNodes.some((n) => getTabIndex(n) > 0)\n            )\n          ) {\n            // no containers with tabbable nodes with positive tab indexes which means the focus\n            //  escaped for some other reason and we should just execute the fallback to the\n            //  MRU node or initial focus node, if any\n            navAcrossContainers = false;\n          }\n        }\n      } else {\n        // no MRU node means we're likely in some initial condition when the trap has just\n        //  been activated and initial focus hasn't been given yet, in which case we should\n        //  fall through to trying to focus the initial focus node, which is what should\n        //  happen below at this point in the logic\n        navAcrossContainers = false;\n      }\n\n      if (navAcrossContainers) {\n        nextNode = findNextNavNode({\n          // move FROM the MRU node, not event-related node (which will be the node that is\n          //  outside the trap causing the focus escape we're trying to fix)\n          target: state.mostRecentlyFocusedNode,\n          isBackward: config.isKeyBackward(state.recentNavEvent),\n        });\n      }\n\n      if (nextNode) {\n        tryFocus(nextNode);\n      } else {\n        tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n      }\n    }\n\n    state.recentNavEvent = undefined; // clear\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkKeyNav = function (event, isBackward = false) {\n    state.recentNavEvent = event;\n\n    const destinationNode = findNextNavNode({ event, isBackward });\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkTabKey = function (event) {\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n\n  // we use a different event phase for the Escape key to allow canceling the event and checking for this in escapeDeactivates\n  const checkEscapeKey = function (event) {\n    if (\n      isEscapeEvent(event) &&\n      valueOrHandler(config.escapeDeactivates, event) !== false\n    ) {\n      event.preventDefault();\n      trap.deactivate();\n    }\n  };\n\n  const checkClick = function (e) {\n    const target = getActualTarget(e);\n\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkTabKey, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkEscapeKey);\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkTabKey, true);\n    doc.removeEventListener('keydown', checkEscapeKey);\n\n    return trap;\n  };\n\n  //\n  // MUTATION OBSERVER\n  //\n\n  const checkDomRemoval = function (mutations) {\n    const isFocusedNodeRemoved = mutations.some(function (mutation) {\n      const removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function (node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n\n    // If the currently focused is removed then browsers will move focus to the\n    // <body> element. If this happens, try to move focus back into the trap.\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n\n  // Use MutationObserver - if supported - to detect if focused node is removed\n  // from the DOM.\n  const mutationObserver =\n    typeof window !== 'undefined' && 'MutationObserver' in window\n      ? new MutationObserver(checkDomRemoval)\n      : undefined;\n\n  const updateObservedNodes = function () {\n    if (!mutationObserver) {\n      return;\n    }\n\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function (container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true,\n        });\n      });\n    }\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n\n    get paused() {\n      return state.paused;\n    },\n\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      onActivate?.();\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate?.();\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      const options = {\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus,\n        ...deactivateOptions,\n      };\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n\n      const onDeactivate = getOption(options, 'onDeactivate');\n      const onPostDeactivate = getOption(options, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      const returnFocus = getOption(\n        options,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      onDeactivate?.();\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate?.();\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause(pauseOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      state.manuallyPaused = true;\n\n      return this._setPausedState(true, pauseOptions);\n    },\n\n    unpause(unpauseOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      state.manuallyPaused = false;\n\n      if (trapStack[trapStack.length - 1] !== this) {\n        return this;\n      }\n\n      return this._setPausedState(false, unpauseOptions);\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      updateObservedNodes();\n\n      return this;\n    },\n  };\n\n  Object.defineProperties(trap, {\n    _isManuallyPaused: {\n      value() {\n        return state.manuallyPaused;\n      },\n    },\n    _setPausedState: {\n      value(paused, options) {\n        if (state.paused === paused) {\n          return this;\n        }\n\n        state.paused = paused;\n        if (paused) {\n          const onPause = getOption(options, 'onPause');\n          const onPostPause = getOption(options, 'onPostPause');\n          onPause?.();\n\n          removeListeners();\n          updateObservedNodes();\n\n          onPostPause?.();\n        } else {\n          const onUnpause = getOption(options, 'onUnpause');\n          const onPostUnpause = getOption(options, 'onPostUnpause');\n\n          onUnpause?.();\n\n          updateTabbableNodes();\n          addListeners();\n          updateObservedNodes();\n\n          onPostUnpause?.();\n        }\n\n        return this;\n      },\n    },\n  });\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","export default class StatefulBehavior {\n  constructor() {\n    this.state = {};\n  }\n\n  setState(next, callback = this.update) {\n    this.state = Object.assign({}, this.state, next);\n\n    if (callback) {\n      callback();\n    }\n  }\n}\n","// Delay activating a focus trap until the dialog animation is finished\n// see https://github.com/focus-trap/focus-trap/blob/master/docs/js/animated-dialog.js\nexport default function (trapContainers) {\n  const results = trapContainers.map((container) => {\n    return new Promise((resolve) => {\n      const interval = setInterval(() => {\n        if (getComputedStyle(container).visibility !== \"hidden\") {\n          resolve();\n          clearInterval(interval);\n        }\n      }, 5);\n    });\n  });\n  // Return a promise that resolves when all the trap containers are able to receive focus\n  return Promise.all(results);\n}\n","export function getFocusableElements(container) {\n  return Array.from(\n    container.querySelectorAll(\n      \"summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):not([name='updates[]']):enabled, select:enabled, textarea:enabled, object, iframe\",\n    ),\n  );\n}\n\n/**\n * Progressively enhance links into buttons with JavaScript\n *\n * useful for things like a link to the cart page that can transform into a\n * toggle for the cart drawer when JS is present\n */\nexport function enhanceAnchorIntoButton(el, callback) {\n  if (!el || !callback || typeof callback !== \"function\") return;\n\n  el.addEventListener(\"click\", () => callback());\n\n  if (el.tagName === \"BUTTON\") return;\n\n  el.removeAttribute(\"href\");\n  el.setAttribute(\"role\", \"button\");\n  el.setAttribute(\"tabindex\", 0);\n  // Use <button> key events (https://adrianroselli.com/2022/04/brief-note-on-buttons-enter-and-space.html)\n  el.addEventListener(\"keydown\", (event) => {\n    if (event.key !== \"Enter\" && event.key !== \" \") return;\n    event.preventDefault();\n    if (event.key !== \"Enter\") return;\n    callback();\n  });\n  el.addEventListener(\"keyup\", (event) => {\n    if (event.key !== \" \") return;\n    event.preventDefault();\n    callback();\n  });\n}\n","import { createFocusTrap } from \"focus-trap\";\nimport classNames from \"classnames\";\nimport Sb from \"../abstract/StatefulBehavior\";\nimport checkCanFocusTrap from \"../../helpers/checkCanFocusTrap\";\nimport { enhanceAnchorIntoButton } from \"../../helpers/dom\";\nexport default class OpenDialog extends Sb {\n  constructor(el, props, refs) {\n    super();\n\n    this.state = {\n      open: false,\n    };\n\n    this.el = el;\n    this.props = props;\n    this.refs = refs;\n\n    if (this.shouldDisable) return this.removeDialogFromDOM();\n\n    if (!this.dialogRef) return;\n\n    if (this.requiresOpenRef && !this.openRef) return;\n\n    this.initDialogClass = this.dialogRef.className;\n\n    if (this.trapFocus) {\n      this.trap = createFocusTrap(this.trapContainer, {\n        escapeDeactivates: true,\n        clickOutsideDeactivates: this.clickOutsideDeactivates,\n        allowOutsideClick: this.allowOutsideClick,\n        onDeactivate: () => this.setState({ open: false }),\n        checkCanFocusTrap,\n        initialFocus: this.initialFocusRef,\n      });\n    }\n\n    this.update();\n    this.bindToggles();\n    this.bindBackdropClick();\n  }\n\n  get openRef() {\n    return this.refs.open;\n  }\n\n  get closeRef() {\n    return this.refs.close;\n  }\n\n  get dialogRef() {\n    return this.refs.dialog;\n  }\n\n  get initialFocusRef() {\n    const ref = this.props.initialFocusRef;\n    return this.refs[ref];\n  }\n\n  get backdropRef() {\n    // a backdrop exists when the dialog ref is not equal to the trap container\n    // (i.e. the backdrop *is* this dialog ref)\n    if (this.dialogRef === this.trapContainer) return null;\n    return this.dialogRef;\n  }\n\n  get requiresOpenRef() {\n    return this.props.requiresOpenRef ?? true;\n  }\n\n  get trapFocus() {\n    if (typeof this.props.trapFocus !== \"boolean\") return true;\n    return this.props.trapFocus;\n  }\n\n  get trapContainer() {\n    if (this.refs.trapContainer) return this.refs.trapContainer;\n    return this.closeRef ? this.dialogRef : this.el;\n  }\n\n  // Optionally disable toggle behavior on some routes\n  // (e.g. to disable login dialog when on login page)\n  get shouldDisable() {\n    if (!this.props.disableOnPage) return false;\n    return window.location.pathname === this.props.disableOnPage;\n  }\n\n  get clickOnBackdropDeactivates() {\n    return this.props.clickOnBackdropDeactivates === true || false;\n  }\n\n  get allowOutsideClick() {\n    return this.clickOnBackdropDeactivates;\n  }\n\n  clickOutsideDeactivates = (event) => {\n    if (!this.props.clickOutsideDeactivates) return false;\n    // deactivate only if click event is on backdrop\n    return !!this.backdropRef && event.target === this.dialogRef;\n  };\n\n  update = () => {\n    this.dialogRef.className = classNames(this.initDialogClass, {\n      \"is-open\": this.state.open,\n    });\n\n    if (this.openRef) {\n      this.openRef.setAttribute(\n        \"aria-expanded\",\n        this.state.open ? \"true\" : \"false\",\n      );\n    }\n\n    if (this.trapFocus) {\n      this.state.open ? this.trap.activate() : this.trap.deactivate();\n      document.body.classList.toggle(\"has-scroll-lock\", this.state.open);\n    }\n\n    if (this.state.open && !this.trapFocus && this.initialFocusRef) {\n      setTimeout(() => this.initialFocusRef.focus(), 100);\n    }\n  };\n\n  bindToggles() {\n    if (this.openRef) {\n      this.openRef.setAttribute(\"aria-controls\", this.dialogRef.id);\n      enhanceAnchorIntoButton(this.openRef, () =>\n        this.setState({ open: this.closeRef ? true : !this.state.open }),\n      );\n    }\n\n    if (this.closeRef) {\n      this.closeRef.setAttribute(\"aria-controls\", this.dialogRef.id);\n      this.closeRef.addEventListener(\"click\", () => {\n        this.setState({ open: false });\n        if (\n          this.props.closeCallback &&\n          typeof this.props.closeCallback === \"function\"\n        ) {\n          this.props.closeCallback();\n        }\n      });\n    }\n  }\n\n  bindBackdropClick() {\n    if (!this.clickOnBackdropDeactivates || !this.backdropRef) return;\n\n    this.backdropRef.addEventListener(\"click\", (event) => {\n      if (event.target === this.backdropRef) this.setState({ open: false });\n    });\n  }\n\n  removeDialogFromDOM() {\n    if (!this.dialogRef) return;\n    this.dialogRef.remove();\n  }\n}\n","import OpenDialog from \"./OpenDialog\";\n\nexport default {\n  OpenDialog,\n};\n","import { createFocusTrap } from \"focus-trap\";\nimport classNames from \"classnames\";\nimport debounce from \"lodash/debounce\";\nimport { pxToRem } from \"@castiron/style-mixins\";\nimport Sb from \"../abstract/StatefulBehavior\";\nimport checkCanFocusTrap from \"../../helpers/checkCanFocusTrap\";\nimport { enhanceAnchorIntoButton } from \"../../helpers/dom\";\n\nconst BREAKPOINT = pxToRem(\"760px\");\n\nexport default class ToggleDrawer extends Sb {\n  constructor(el, props, refs) {\n    super();\n\n    this.el = el;\n    this.props = props;\n    this.refs = refs;\n\n    this.state = {\n      open: false,\n      returnId: this.defaultReturnId,\n    };\n\n    if (this.shouldDisable) return this.removeDialogFromDOM();\n\n    if (!this.toggles?.length || !this.dialog) return;\n\n    this.initDialogClass = this.dialog.className;\n    this.initOverlayClass = this.overlay?.className;\n    this.initBodyClass = document.body.className;\n\n    this.trap = createFocusTrap(this.trapContainer, {\n      escapeDeactivates: true,\n      clickOutsideDeactivates: true,\n      setReturnFocus: false,\n      onDeactivate: () => {\n        if (!this.state.open) return;\n        this.setState({ open: false });\n      },\n      onPostDeactivate: () =>\n        document.getElementById(this.state.returnId).focus(),\n      checkCanFocusTrap,\n    });\n\n    this.update();\n    this.bindToggles();\n    this.bindRemoteToggle();\n    this.bindOverlayClick();\n    this.bindResize();\n  }\n\n  get toggles() {\n    return Array.isArray(this.refs.toggle)\n      ? this.refs.toggle\n      : [this.refs.toggle];\n  }\n\n  get defaultReturnId() {\n    return this.toggles[0]?.id;\n  }\n\n  get dialog() {\n    return this.refs.dialog;\n  }\n\n  get overlay() {\n    return this.refs.overlay;\n  }\n\n  get trapContainer() {\n    return this.props.excludeToggleFromTrap ? this.dialog : this.el;\n  }\n\n  // Optionally disable toggle behavior on some routes\n  // (e.g. to disable cart drawer when on cart page)\n  get shouldDisable() {\n    if (!this.props.disableOnPage) return false;\n    return window.location.pathname === this.props.disableOnPage;\n  }\n\n  update = () => {\n    this.dialog.setAttribute(\"data-open\", this.state.open);\n\n    this.toggles.forEach((toggle) =>\n      toggle.setAttribute(\"aria-expanded\", this.state.open ? \"true\" : \"false\"),\n    );\n\n    if (this.overlay) {\n      this.overlay.className = classNames(this.initOverlayClass, {\n        \"is-open\": this.state.open,\n      });\n    }\n\n    document.body.classList.toggle(\"has-scroll-lock\", this.state.open);\n\n    this.state.open ? this.trap.activate() : this.trap.deactivate();\n  };\n\n  bindToggles() {\n    this.toggles.forEach((toggle) => {\n      toggle.setAttribute(\"aria-controls\", toggle.dataset.controls);\n      enhanceAnchorIntoButton(toggle, () =>\n        this.setState({\n          open: !this.state.open,\n          returnId: this.defaultReturnId,\n        }),\n      );\n    });\n  }\n\n  // Allow buttons elsewhere in the DOM to remotely open the drawer\n  bindRemoteToggle = () => {\n    window.addEventListener(\"message\", (event) => {\n      if (event.origin !== window.location.origin) return;\n\n      const { drawerId, drawerAction = \"toggle\", toggleId } = event.data;\n      if (drawerId !== this.dialog.id) return;\n\n      this.setState({\n        open: drawerAction === \"open\" ? true : !this.state.open,\n        returnId: toggleId,\n      });\n    });\n  };\n\n  bindOverlayClick() {\n    if (!this.overlay) return;\n\n    this.overlay.addEventListener(\"click\", () =>\n      this.setState({ open: false }),\n    );\n  }\n\n  bindResize() {\n    if (!this.props.bindResize) return;\n\n    const debouncedClientSize = debounce(() => {\n      if (!this.state.open) return;\n      // if dialog is open and viewport expands above breakpoint, close it\n      if (window.matchMedia(`(min-width: ${BREAKPOINT})`).matches) {\n        this.setState({ open: false });\n      }\n    }, 200);\n    window.addEventListener(\"resize\", debouncedClientSize);\n  }\n\n  /**\n   * For the cart page, having the drawer in the DOM causes\n   * expections when dynamically updating cart elements\n   */\n  removeDialogFromDOM() {\n    if (!this.dialog) return;\n    this.dialog.remove();\n  }\n}\n","import ObserveFontFace from \"./ObserveFontFace\";\nimport SetCSSProperties from \"./SetCSSProperties\";\nimport ShrinkHeaderOnScroll from \"./ShrinkHeaderOnScroll\";\nimport ToggleDrawer from \"./ToggleDrawer\";\n\nexport default {\n  ObserveFontFace,\n  SetCSSProperties,\n  ShrinkHeaderOnScroll,\n  ToggleDrawer,\n};\n","import content from \"./content\";\nimport site from \"./site\";\n\nexport default {\n  content,\n  site,\n};\n","import FontFaceObserver from \"fontfaceobserver\";\n\nexport default class ObserveFontFace {\n  constructor() {\n    const fontObserver = new FontFaceObserver(\n      this.fontFamily,\n      this.fontOptions,\n    );\n    fontObserver\n      .load()\n      .then(this.onLoad)\n      .catch((error) => {\n        console.error(error);\n      });\n  }\n\n  get fontFamily() {\n    return \"Tiempos Text\";\n  }\n\n  get fontOptions() {\n    return {\n      weight: 400,\n      style: \"normal\",\n    };\n  }\n\n  get testString() {\n    return \"Tiempos Text font family\";\n  }\n\n  onLoad() {\n    document.querySelector(\"body\").classList.add(`tiempos-text-loaded`);\n  }\n}\n","/*\nCreates and updates the values of CSS custom properties from DOM measurements\n*/\nexport default class SetCSSProperties {\n  constructor() {\n    this.ticking = false;\n\n    this.setCSSProperties();\n    this.bindResize();\n    this.observeAnnouncementBarMutations();\n  }\n\n  get header() {\n    return document.querySelector(\"#site-header\");\n  }\n\n  get announcementBar() {\n    return document.querySelector(\"#announcement-bar\");\n  }\n\n  setCSSProperties = () => {\n    this.ticking = false;\n\n    this.setHeaderHeight();\n    this.setAnnouncementBarHeight();\n    this.setVwUnit();\n  };\n\n  requestTick = () => {\n    if (!this.ticking) {\n      requestAnimationFrame(this.setCSSProperties);\n    }\n    this.ticking = true;\n  };\n\n  bindResize() {\n    window.addEventListener(\"resize\", this.requestTick);\n  }\n\n  observeAnnouncementBarMutations() {\n    if (!this.announcementBar) return;\n\n    const observer = new MutationObserver((mutationList) => {\n      for (const mutation of mutationList) {\n        if (mutation.attributeName === \"hidden\")\n          this.setAnnouncementBarHeight();\n      }\n    });\n\n    observer.observe(this.announcementBar, { attributes: true });\n  }\n\n  setHeaderHeight = () => {\n    if (!this.header)\n      return document.documentElement.style.setProperty(\n        \"--header-height\",\n        \"0px\",\n      );\n\n    this.header.style.setProperty(\"position\", \"fixed\");\n\n    const height = this.header.getBoundingClientRect().height;\n\n    document.documentElement.style.setProperty(\n      \"--header-height\",\n      `${height}px`,\n    );\n  };\n\n  setAnnouncementBarHeight = () => {\n    if (!this.announcementBar)\n      return document.documentElement.style.setProperty(\n        \"--announcement-bar-height\",\n        \"0px\",\n      );\n\n    this.announcementBar.style.setProperty(\"position\", \"fixed\");\n\n    // Safari miscomputes this.announcementBar height, so derive from bar's text block instead\n    const text = this.announcementBar.querySelector(\"[data-ref='text']\");\n    const height = text.getBoundingClientRect().height;\n\n    document.documentElement.style.setProperty(\n      \"--announcement-bar-height\",\n      `${height}px`,\n    );\n  };\n\n  setVwUnit = () => {\n    const viewportWidth = document.documentElement.clientWidth;\n\n    document.documentElement.style.setProperty(\n      \"--vw\",\n      `${viewportWidth / 100}px`,\n    );\n  };\n}\n","import Headroom from \"headroom.js\";\n\nexport default class RevealHeaderOnScroll {\n  constructor(el) {\n    // This class depends on support of `position: sticky` in CSS.\n    // If it's not supported, just use a static header instead.\n    if (!this.supportsSticky) return;\n\n    this.el = el;\n    this.headroom = new Headroom(el, this.headroomOptions);\n\n    this.headroom.init();\n  }\n\n  get supportsSticky() {\n    try {\n      const supports = \"CSS\" in window && CSS.supports(\"position\", \"sticky\");\n      return supports;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  get headroomOptions() {\n    return {\n      offset: 150,\n      classes: {\n        // when element is initialised\n        initial: \"header-is-initial\",\n        // when scrolling up\n        pinned: \"header-is-pinned\",\n        // when scrolling down\n        unpinned: \"header-is-unpinned\",\n        // when above offset\n        top: \"header-is-top\",\n        // when below offset\n        notTop: \"header-is-not-top\",\n        bottom: \"header-is-bottom\",\n        notBottom: \"header-is-not-bottom\",\n        frozen: \"header-is-frozen\",\n      },\n    };\n  }\n}\n","export function fetchConfig(type = \"json\") {\n  return {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: `application/${type}`,\n    },\n  };\n}\n","import { enhanceAnchorIntoButton } from \"../helpers/dom\";\nimport { fetchConfig } from \"../helpers/fetch\";\n\nexport default class AddToCart extends HTMLElement {\n  constructor() {\n    super();\n\n    this.error = false;\n    this.shouldPushToKlaviyo = true;\n\n    this.bindButtonClick();\n  }\n\n  get addButton() {\n    return this.querySelector('[name=\"add\"]');\n  }\n\n  get loadingOverlay() {\n    return this.querySelector(\".c-loading-overlay\");\n  }\n\n  get errorContainer() {\n    return this.querySelector('[data-id=\"add-to-cart-errors\"]');\n  }\n\n  get errorTextEl() {\n    return this.querySelector('[data-id=\"add-to-cart-error-text\"]');\n  }\n\n  get cartDrawerComponent() {\n    return document.getElementById(\"cart-snippet\");\n  }\n\n  get cartDrawerId() {\n    return this.addButton.dataset.controls;\n  }\n\n  bindButtonClick() {\n    this.addButton.setAttribute(\"aria-controls\", this.cartDrawerId);\n    enhanceAnchorIntoButton(this.addButton, this.handleButtonClick);\n  }\n\n  handleButtonClick = () => {\n    if (this.addButton.getAttribute(\"aria-disabled\") === \"true\") return;\n\n    this.enableLoading();\n\n    const { variantId, sellingPlanId, sellingPlanGroupId, discountCode } =\n      this.dataset;\n    const body = JSON.stringify({\n      items: [\n        {\n          id: variantId,\n          quantity: 1,\n          ...(sellingPlanId && { selling_plan: sellingPlanId }),\n          ...(sellingPlanGroupId && {\n            [`selling_plan_${sellingPlanGroupId}`]: \"subsave\",\n          }),\n        },\n      ],\n      sections: this.cartDrawerComponent.sectionsToRender.map(\n        (section) => section.section,\n      ),\n    });\n\n    fetch(`${routes.cart_add_url}.js`, { ...fetchConfig(), ...{ body } }) // eslint-disable-line no-undef\n      .then((response) => {\n        return response.json();\n      })\n      .then((response) => {\n        if (response.status) {\n          this.handleErrorMessage(response.description);\n          this.error = true;\n          return;\n        }\n\n        this.error = false;\n        this.cartDrawerComponent.updateSectionHTML(response);\n        this.cartDrawerComponent.toggleEmptyClass(response.items.length);\n\n        postMessage({\n          drawerId: this.cartDrawerId,\n          drawerAction: \"open\",\n          toggleId: this.addButton.id,\n        });\n\n        // Automatically apply discount code if attached to product\n        if (discountCode) {\n          const existingDiscount = document.cookie\n            .split(\"; \")\n            .find((row) => row.startsWith(\"discount_code=\"));\n          if (!existingDiscount)\n            document.cookie = `discount_code=${encodeURIComponent(\n              discountCode,\n            )}; path=/`;\n        }\n      })\n      .then(() => this.pushEventToKlaviyo())\n      .catch((error) => {\n        console.error(error);\n      })\n      .finally(() => {\n        this.disableLoading();\n      });\n  };\n\n  enableLoading() {\n    this.addButton.setAttribute(\"aria-disabled\", true);\n    this.addButton.classList.add(\"loading\");\n    this.loadingOverlay.classList.remove(\"hidden\");\n  }\n\n  disableLoading() {\n    if (!this.error) this.addButton.setAttribute(\"aria-disabled\", false);\n    this.addButton.classList.remove(\"loading\");\n    this.loadingOverlay.classList.add(\"hidden\");\n  }\n\n  handleErrorMessage(error) {\n    this.errorContainer.removeAttribute(\"hidden\");\n    this.errorTextEl.textContent = error;\n  }\n\n  pushEventToKlaviyo() {\n    if (!this.shouldPushToKlaviyo || !window._learnq) return;\n\n    fetch(`${routes.cart_url}.js`) // eslint-disable-line no-undef\n      .then((response) => {\n        return response.json();\n      })\n      .then((response) => {\n        const cart = {\n          total_price: response.total_price / 100,\n          $value: response.total_price / 100,\n          total_discount: response.total_discount,\n          original_total_price: response.original_total_price / 100,\n          items: response.items,\n        };\n        window._learnq.push([\"track\", \"Added to Cart\", cart]);\n        this.shouldPushToKlaviyo = false;\n      });\n  }\n}\n","export default class AnnouncementBar extends HTMLElement {\n  constructor() {\n    super();\n    if (this.hasDismissed) return this.hideElement();\n    // Otherwise reveal element and attach click listener to button.\n    this.showElement();\n    this.bindDismissClick();\n\n    if (Shopify.designMode) this.style.setProperty(\"position\", \"fixed\"); // eslint-disable-line no-undef\n  }\n\n  get dismissButton() {\n    return this.querySelector(\".c-announcement-bar__dismiss\");\n  }\n\n  get storageKey() {\n    return \"hasDismissedAnnouncement\";\n  }\n\n  get storageValue() {\n    return sessionStorage.getItem(this.storageKey);\n  }\n\n  get hasDismissed() {\n    return this.storageValue === \"true\";\n  }\n\n  showElement() {\n    this.removeAttribute(\"hidden\");\n  }\n\n  hideElement() {\n    this.setAttribute(\"hidden\", \"\");\n  }\n\n  bindDismissClick() {\n    if (!this.dismissButton) return;\n    this.dismissButton.addEventListener(\"click\", this.doDismiss);\n  }\n\n  doDismiss = () => {\n    sessionStorage.setItem(this.storageKey, true);\n    this.hideElement();\n  };\n}\n","export const USD_SUBPATH = \"\";\nexport const GBP_SUBPATH = \"/en-gb\";\nexport const CAD_SUBPATH = \"/en-ca\";\n\nexport function getMarketSubpath(currency) {\n  switch (currency) {\n    case \"GBP\":\n      return GBP_SUBPATH;\n    case \"CAD\":\n      return CAD_SUBPATH;\n    default:\n      return USD_SUBPATH;\n  }\n}\n\nexport function getBasePathname(pathname) {\n  if (pathname.startsWith(GBP_SUBPATH))\n    return pathname.slice(GBP_SUBPATH.length);\n  if (pathname.startsWith(CAD_SUBPATH))\n    return pathname.slice(CAD_SUBPATH.length);\n  return pathname;\n}\n","import { getMarketSubpath, getBasePathname } from \"../helpers/market\";\n\n/**\n * Parses rich-text content and\n *  * replaces shortcodes with HTML\n *  * replaces same-origin absolute URLs with locale-aware relative ones\n *\n * Available shortcodes:\n * [book-strip index=\"1\" style=\"buy|display\"]:\n * References a product strip metafield using \"index\" and replaces the shortcode with strip markup.\n * The markup for each strip is already rendered on the page based on the product variants\n * defined on a metafield on the article record. See `sections/main-article.liquid`.\n */\nexport default class ArticleContent extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.anchorNodes.forEach((node) => this.maybeRelativizeAnchor(node));\n\n    this.html = this.innerHTML;\n\n    this.insertProductStrips();\n  }\n\n  get anchorNodes() {\n    return this.querySelectorAll(\"[href]\");\n  }\n\n  get currentUrl() {\n    return new URL(window.location);\n  }\n\n  get productStripRegex() {\n    return /\\[book-strip(\\s[\\s\\S]*?)?\\]/g;\n  }\n\n  get indexRegex() {\n    // Shopify's RTE may inject hidden <span> tags if a shortcode has been copy/pasted\n    return /index=[\"'](?:<\\/?span>)*(?<indexString>\\d+)(?:<\\/?span>)*[\"']/i;\n  }\n\n  get styleRegex() {\n    return /style=[\"'](?<style>[\\w\\s]*)[\"']/i;\n  }\n\n  get defaultStyle() {\n    return \"buy\";\n  }\n\n  get altStyle() {\n    return \"display\";\n  }\n\n  get productStripClassName() {\n    return \"c-product-strip\";\n  }\n\n  get productStripIdPrefix() {\n    return \"product-strip\";\n  }\n\n  get productStripInstances() {\n    return this.innerHTML.match(this.productStripRegex) || [];\n  }\n\n  get hasProductStrips() {\n    return !!this.productStripInstances.length;\n  }\n\n  // replace any same-origin absolute URLs with locale-aware relative ones\n  maybeRelativizeAnchor(node) {\n    const href = node.getAttribute(\"href\");\n\n    try {\n      const anchorUrl = new URL(href);\n\n      if (anchorUrl.origin !== this.currentUrl.origin) return;\n\n      // strip any existing market subpath\n      const basePathname = getBasePathname(anchorUrl.pathname);\n\n      // prepend the subpath for the customer's market\n      const marketSubpath = getMarketSubpath(this.dataset.market);\n      const marketPathname = `${marketSubpath}${basePathname}`;\n\n      node.setAttribute(\"href\", marketPathname);\n    } catch (error) {\n      // relative URLs will error, which we just ignore\n    }\n  }\n\n  insertProductStrips = () => {\n    if (!this.hasProductStrips) return;\n\n    this.productStripInstances.forEach((instance) =>\n      this.insertProductStrip(instance),\n    );\n    // Replace HTML only once\n    this.innerHTML = this.html;\n    // and remove the server-rendered strips from the DOM\n    const variantsEl = document.getElementById(\"product-strip-variants\");\n    variantsEl.remove();\n  };\n\n  insertProductStrip(instance) {\n    // look up `index` param (default to \"1\")\n    const indexMatch = instance.match(this.indexRegex);\n    const index = indexMatch?.groups.indexString || \"1\";\n\n    // match index to rendered book strip ID\n    const productStripEl = document.getElementById(\n      `${this.productStripIdPrefix}-${index}`,\n    );\n    if (!productStripEl) return;\n\n    // set style className based on `style` param\n    const styleMatch = instance.match(this.styleRegex);\n    // be strict about using default style unless alt style is clearly indicated\n    const style =\n      styleMatch?.groups?.style === this.altStyle\n        ? this.altStyle\n        : this.defaultStyle;\n    productStripEl.classList.add(\n      `${this.productStripClassName}--style-${style}`,\n    );\n\n    // replace shortcode with product strip HTML\n    const instanceRegex = this.stringToRegExp(instance);\n    this.html = this.html.replace(instanceRegex, productStripEl.outerHTML);\n  }\n\n  // https://gist.github.com/BrandonZacharie/1879052\n  stringToRegExp(value, flags = \"i\") {\n    return new RegExp(\n      value.replace(/[[\\]\\\\{}()+*?.$^|]/g, function (match) {\n        return \"\\\\\" + match;\n      }),\n      flags,\n    );\n  }\n}\n","import debounce from \"lodash/debounce\";\nimport { fetchConfig } from \"../helpers/fetch\";\nexport default class CartItems extends HTMLElement {\n  constructor() {\n    super();\n\n    this.lineItemStatusElement = document.getElementById(\n      \"shopping-cart-line-item-status\",\n    );\n\n    this.currentItemCount = Array.from(this.quantityInputs).reduce(\n      (total, quantityInput) => total + parseInt(quantityInput.value),\n      0,\n    );\n\n    this.debouncedOnChange = debounce((event) => {\n      this.onChange(event);\n    }, 300);\n    this.debouncedOnRemove = debounce((event) => {\n      this.onRemove(event);\n    }, 300);\n\n    this.addEventListener(\"change\", this.debouncedOnChange.bind(this));\n    this.addEventListener(\"remove\", this.debouncedOnRemove.bind(this));\n\n    this.quantityInputs.forEach((input) => {\n      input.setAttribute(\"tabindex\", -1);\n      input.setAttribute(\"aria-hidden\", \"true\");\n    });\n  }\n\n  get quantityInputs() {\n    return this.querySelectorAll('[name=\"updates[]\"]');\n  }\n\n  get sectionsToRender() {\n    return [\n      {\n        id: \"main-cart-items\",\n        section: document.getElementById(\"main-cart-items\").dataset.id,\n        selector: \".js-item-contents\",\n      },\n      {\n        id: \"cart-drawer-toggle\",\n        section: \"cart-icon\",\n        selector: \".shopify-section\",\n      },\n      {\n        id: \"cart-live-region-text\",\n        section: \"cart-live-region-text\",\n        selector: \".shopify-section\",\n      },\n      {\n        id: \"main-cart-footer\",\n        section: document.getElementById(\"main-cart-footer\").dataset.id,\n        selector: \".js-footer-contents\",\n      },\n      {\n        id: \"main-cart-header\",\n        section: document.getElementById(\"main-cart-header\").dataset.id,\n        selector: \"free-shipping-progress\",\n      },\n      {\n        id: \"cart-recommendations\",\n        section: document.getElementById(\"cart-recommendations\")?.dataset.id,\n        selector: \"cart-recommendations\",\n      },\n    ];\n  }\n\n  onChange(event) {\n    this.updateQuantity(event.target.dataset.index, event.target.value);\n  }\n\n  onRemove = (event) => {\n    this.updateQuantity(event.target.dataset.index, 0);\n  };\n\n  updateQuantity(line, quantity) {\n    this.enableLoading(line);\n\n    const body = JSON.stringify({\n      line,\n      quantity,\n      sections: this.sectionsToRender.map((section) => section.section),\n      sections_url: window.location.pathname,\n    });\n\n    fetch(`${routes.cart_change_url}.js`, { ...fetchConfig(), ...{ body } }) // eslint-disable-line no-undef\n      .then((response) => {\n        return response.text();\n      })\n      .then((state) => {\n        const parsedState = JSON.parse(state);\n\n        this.updateSectionHTML(parsedState);\n        this.updateLiveRegions(line, parsedState.item_count);\n        this.toggleEmptyClass(parsedState.item_count);\n        this.maybeFocusLineItem(line);\n        this.disableLoading();\n      })\n      .catch(() => {\n        this.querySelectorAll(\".c-loading-overlay\").forEach((overlay) =>\n          overlay.classList.add(\"hidden\"),\n        );\n        const errors = document.getElementById(\"cart-errors\");\n        errors.textContent = window.cartStrings.error;\n        this.disableLoading();\n      });\n  }\n\n  updateSectionHTML(parsedState) {\n    for (const section of this.sectionsToRender) {\n      const elementToReplace =\n        document.getElementById(section.id).querySelector(section.selector) ||\n        document.getElementById(section.id);\n\n      const updatedSectionElement = this.getParsedSectionElement(\n        parsedState.sections[section.section],\n        section.selector,\n      );\n\n      // For free shipping progress section, only update data attribute; otherwise replace section innerHTML.\n      // Why? free-shipping-progress is a custom element that updates dynamically when data attributes change.\n      if (elementToReplace.tagName === \"FREE-SHIPPING-PROGRESS\") {\n        const cartTotal = updatedSectionElement.getAttribute(\"data-cart-total\");\n        elementToReplace.setAttribute(\"data-cart-total\", cartTotal);\n      } else {\n        elementToReplace.innerHTML = updatedSectionElement.innerHTML;\n      }\n    }\n  }\n\n  getParsedSectionElement(html, selector) {\n    return new DOMParser()\n      .parseFromString(html, \"text/html\")\n      .querySelector(selector);\n  }\n\n  updateLiveRegions(line, itemCount) {\n    if (this.currentItemCount === itemCount) {\n      const lineItemError = document.getElementById(`Line-item-error-${line}`);\n      const quantityElement = document.getElementById(`Quantity-${line}`);\n\n      if (!lineItemError) return;\n\n      lineItemError.querySelector(\".c-cart-item__error-text\").innerHTML =\n        window.cartStrings.quantityError.replace(\n          \"[quantity]\",\n          quantityElement.value,\n        );\n    }\n\n    this.currentItemCount = itemCount;\n    this.lineItemStatusElement.setAttribute(\"aria-hidden\", true);\n\n    const cartStatus = document.getElementById(\"cart-live-region-text\");\n    cartStatus.setAttribute(\"aria-hidden\", false);\n\n    setTimeout(() => {\n      cartStatus.setAttribute(\"aria-hidden\", true);\n    }, 1000);\n  }\n\n  toggleEmptyClass(itemCount) {\n    const cartDrawer = document.getElementById(\"cart-drawer\");\n    const cartFooter = document.getElementById(\"main-cart-footer\");\n\n    [this, cartDrawer, cartFooter]\n      .filter(Boolean)\n      .forEach((el) => el.classList.toggle(\"is-empty\", itemCount === 0));\n  }\n\n  maybeFocusLineItem(line) {\n    const lineItem = document.getElementById(`CartItem-${line}`);\n    if (lineItem && lineItem.querySelector(`[name=\"${name}\"]`))\n      lineItem.querySelector(`[name=\"${name}\"]`).focus();\n  }\n\n  enableLoading(line) {\n    const mainCartItems = document.getElementById(\"main-cart-items\");\n    mainCartItems.classList.add(\"c-cart__list-block--is-loading\");\n\n    const cartItemElements = this.querySelectorAll(\n      `#CartItem-${line} .c-loading-overlay`,\n    );\n\n    cartItemElements.forEach((overlay) => overlay.classList.remove(\"hidden\"));\n\n    document.activeElement.blur();\n    this.lineItemStatusElement.setAttribute(\"aria-hidden\", false);\n  }\n\n  disableLoading() {\n    const mainCartItems = document.getElementById(\"main-cart-items\");\n    mainCartItems.classList.remove(\"c-cart__list-block--is-loading\");\n  }\n}\n","export default class FreeShippingProgress extends HTMLElement {\n  constructor() {\n    super();\n\n    this.detectedCountry = this.dataset.market;\n    this.hasDeterminedCountry = false;\n  }\n\n  static observedAttributes = [\"data-cart-total\"];\n\n  async connectedCallback() {\n    // Only use geolocation if customer is on UK/ROW market site, since we need country to know shipping thresholds.\n    // Otherwise, assume that customer wants to ship to the market they are in (for US/CA).\n    if (this.dataset.market === \"GB\") {\n      const browsingContext = await fetch(\n        window.Shopify.routes.root +\n          \"browsing_context_suggestions.json\" +\n          \"?country[enabled]=true\" +\n          `&country[exclude]=${window.Shopify.country}`,\n      )\n        .then((response) => response.json())\n        .catch((error) => {\n          console.error(error);\n        });\n\n      const detectedCountryHandle =\n        browsingContext?.detected_values?.country?.handle;\n\n      // set `this.detectedCountry` if geolocation detected, unless location is US or CA\n      // for US/CA location, assume customer has chosen to be on UK/ROW market site rather than site for their market\n      if (\n        detectedCountryHandle &&\n        detectedCountryHandle !== \"US\" &&\n        detectedCountryHandle !== \"CA\"\n      ) {\n        this.detectedCountry = detectedCountryHandle;\n      }\n    }\n\n    this.hasDeterminedCountry = true;\n    this.updateProgress();\n  }\n\n  attributeChangedCallback() {\n    // Only run once client-side geolocation has run,\n    // since 1st change of `data-cart-total` is technically during HTML parsing\n    // and before geolocation has had a chance to run\n    if (this.hasDeterminedCountry) {\n      this.updateProgress();\n    }\n  }\n\n  updateProgress() {\n    const threshold = this.getThresholdForCountry(this.detectedCountry);\n    const cartTotal = this.dataset.cartTotal;\n    const progress = Number(cartTotal) || 0;\n\n    if (threshold && cartTotal) {\n      this.updateProgressBar(threshold, progress);\n      this.updateProgressText(threshold, progress);\n    }\n\n    if (!threshold) {\n      this.setAttribute(\"inert\", \"\");\n    } else {\n      this.removeAttribute(\"inert\");\n    }\n  }\n\n  updateProgressBar(threshold, progress) {\n    const progressEl = this.querySelector(\"progress\");\n\n    if (!progressEl) return;\n\n    progressEl.setAttribute(\"max\", threshold);\n    progressEl.setAttribute(\"value\", Math.min(progress, threshold));\n  }\n\n  updateProgressText(threshold, progress) {\n    const progressTextEl = this.querySelector(\"[data-progress-text]\");\n\n    if (!progressTextEl) return;\n\n    const difference = threshold - progress;\n    const differenceInMoney = this.formatCurrency(difference / 100);\n    const shippingType = this.getShippingTypeForCountry();\n\n    let innerHTML;\n\n    if (difference > 0) {\n      innerHTML = `Add <strong>${differenceInMoney}</strong> more for <strong>Free ${shippingType} Shipping</strong>`;\n    } else {\n      innerHTML = `Your cart qualifies for <strong>Free ${shippingType} Shipping</strong>!`;\n    }\n\n    progressTextEl.innerHTML = innerHTML;\n  }\n\n  getThresholdForCountry(countryCode) {\n    switch (countryCode) {\n      case \"US\":\n        return 4000;\n      case \"CA\":\n        return 10000;\n      case \"GB\":\n        return 3000;\n      // EU countries\n      case \"AT\":\n      case \"BE\":\n      case \"BG\":\n      case \"HR\":\n      case \"DK\":\n      case \"EE\":\n      case \"FR\":\n      case \"GR\":\n      case \"HU\":\n      case \"IE\":\n      case \"IT\":\n      case \"LV\":\n      case \"LT\":\n      case \"MT\":\n      case \"NL\":\n      case \"NO\":\n      case \"PL\":\n      case \"PT\":\n      case \"RO\":\n      case \"SK\":\n      case \"SI\":\n      case \"ES\":\n        return 15000;\n      default:\n        return null;\n    }\n  }\n\n  getCurrencyForCountry() {\n    switch (this.detectedCountry) {\n      case \"US\":\n        return \"USD\";\n      case \"CA\":\n        return \"CAD\";\n      default:\n        return \"GBP\";\n    }\n  }\n\n  getShippingTypeForCountry() {\n    switch (this.detectedCountry) {\n      case \"US\":\n        return \"US\";\n      case \"CA\":\n        return \"Canadian\";\n      default:\n        return \"UK\";\n    }\n  }\n\n  formatCurrency(number) {\n    const currency = this.getCurrencyForCountry();\n\n    const formatter = new Intl.NumberFormat(\"en\", {\n      style: \"currency\",\n      currency,\n      currencyDisplay: \"narrowSymbol\",\n    });\n\n    return formatter.format(number);\n  }\n}\n","export default class LoadMore extends HTMLElement {\n  constructor() {\n    super();\n\n    this.error = false;\n  }\n\n  connectedCallback() {\n    this.updatePaginationCount();\n\n    if (\n      !this.pagination ||\n      !this.list ||\n      !this.loadButtonWrapper ||\n      !this.loadButton\n    )\n      return;\n\n    this.pagination.setAttribute(\"hidden\", \"true\");\n\n    if (this.canLoadMore) {\n      this.loadButtonWrapper.removeAttribute(\"hidden\");\n      this.loadButton.addEventListener(\"click\", this.doLoadMore);\n    }\n  }\n\n  get currentUrl() {\n    return new URL(window.location);\n  }\n\n  get currentPage() {\n    const searchParams = this.currentUrl.searchParams;\n    const page = searchParams.get(\"page\") ?? \"1\";\n    return Number(page);\n  }\n\n  get itemCount() {\n    return Number(this.dataset.itemCount);\n  }\n\n  get pageSize() {\n    return Number(this.dataset.pageSize);\n  }\n\n  get canLoadMore() {\n    if (!this.pageSize || !this.itemCount) return false;\n\n    return this.itemCount > this.pageSize * this.currentPage;\n  }\n\n  get pagination() {\n    return this.querySelector('[data-ref=\"pagination\"]');\n  }\n\n  get listSelector() {\n    return '[data-ref=\"paginated-list\"]';\n  }\n\n  get list() {\n    return this.querySelector(this.listSelector);\n  }\n\n  get countSelector() {\n    return '[data-ref=\"pagination-count\"]';\n  }\n\n  get countNode() {\n    return this.querySelector(this.countSelector);\n  }\n\n  get sectionId() {\n    return this.dataset.sectionId;\n  }\n\n  get loadButtonWrapper() {\n    return this.querySelector('[data-ref=\"load-button-wrapper\"]');\n  }\n\n  get loadButton() {\n    return this.querySelector('[data-ref=\"load-button\"]');\n  }\n\n  get loadingOverlay() {\n    return this.querySelector(\".c-loading-overlay\");\n  }\n\n  doLoadMore = () => {\n    if (this.loadButton.getAttribute(\"aria-disabled\") === \"true\") return;\n\n    this.enableLoading();\n\n    const fetchUrl = this.currentUrl;\n    fetchUrl.searchParams.set(\"page\", String(this.currentPage + 1));\n    fetchUrl.searchParams.set(\"section_id\", this.sectionId);\n\n    fetch(fetchUrl)\n      .then((response) => response.text())\n      .then((response) => {\n        const parser = new DOMParser();\n\n        const responseDoc = parser.parseFromString(response, \"text/html\");\n        const responseListItems = responseDoc?.querySelectorAll(\n          `${this.listSelector} > li`,\n        );\n\n        // if no list in response, either there's an error or we've reached the end of the paginated list\n        // either way, hide the load button\n        if (!responseListItems?.length) {\n          this.loadButtonWrapper.setAttribute(\"hidden\", \"true\");\n          return;\n        }\n\n        // append items to existing list\n        for (const item of responseListItems) {\n          this.list.appendChild(item);\n        }\n\n        // update URL in browser with new `page` param\n        const updatedUrl = this.currentUrl;\n        updatedUrl.searchParams.set(\"page\", String(this.currentPage + 1));\n        window.history.pushState({}, \"\", updatedUrl);\n\n        // hide load button if no more items to load\n        if (!this.canLoadMore)\n          this.loadButtonWrapper.setAttribute(\"hidden\", \"true\");\n      })\n      .then(() => {\n        this.updatePaginationCount();\n      })\n      .catch((error) => console.error(error))\n      .finally(() => this.disableLoading());\n  };\n\n  // localize pagination count numbers and update to latest values\n  updatePaginationCount() {\n    const paginationFirstNode = this.querySelector(\n      '[data-ref=\"pagination-count-first\"]',\n    );\n    const paginationLastNode = this.querySelector(\n      '[data-ref=\"pagination-count-last\"]',\n    );\n    const paginationTotalNode = this.querySelector(\n      '[data-ref=\"pagination-count-total\"]',\n    );\n    const backToLinkNode = this.querySelector(\n      '[data-ref=\"pagination-back-to-link\"]',\n    );\n\n    const initialOffset = Number(paginationFirstNode.innerText);\n\n    if (paginationFirstNode) {\n      this.updatePaginationNumber(paginationFirstNode, initialOffset);\n    }\n\n    if (paginationLastNode) {\n      this.updatePaginationNumber(\n        paginationLastNode,\n        Math.min(this.currentPage * this.pageSize, this.itemCount),\n      );\n    }\n\n    if (paginationTotalNode) {\n      this.updatePaginationNumber(paginationTotalNode, this.itemCount);\n    }\n\n    if (backToLinkNode && initialOffset > 1 && this.currentPage > 1) {\n      backToLinkNode.removeAttribute(\"hidden\");\n    }\n  }\n\n  updatePaginationNumber(node, value) {\n    const localizedValue = new Intl.NumberFormat().format(value);\n    node.innerText = localizedValue;\n  }\n\n  enableLoading() {\n    this.loadButton.setAttribute(\"aria-disabled\", \"true\");\n    this.loadButton.classList.add(\"loading\");\n    this.loadingOverlay?.classList.remove(\"hidden\");\n  }\n\n  disableLoading() {\n    this.loadButton.setAttribute(\"aria-disabled\", \"false\");\n    this.loadButton.classList.remove(\"loading\");\n    this.loadingOverlay?.classList.add(\"hidden\");\n  }\n}\n","import OpenDialog from \"../behaviors/content/OpenDialog\";\nimport { CAD_SUBPATH, GBP_SUBPATH } from \"../helpers/market\";\n\nexport default class LocalizationForm extends HTMLElement {\n  constructor() {\n    super();\n\n    if (!this.form) return;\n\n    // dialog only instantiates for one instance of custom element per page,\n    // but we track submit in all cases so that form submission updates\n    // browser storage with user market preference\n    this.bindFormSubmit();\n\n    if (\n      this.dataset.checkMarket !== \"true\" ||\n      !this.select ||\n      !this.dialog ||\n      !this.closeButton ||\n      !this.trapContainer ||\n      !this.consentButton ||\n      !this.rejectButton\n    )\n      return;\n\n    // has user already specified a preferred market via consent dialog or localization form?\n    if (this.hasPreferredMarket) {\n      // if so, and current subpath matches preferred market, delete dialog\n      if (this.preferredMarket === this.currentMarketSubpath) {\n        this.dialog?.remove();\n      } else {\n        // otherwise automatically redirect to preferred market rather than show consent dialog\n        this.redirectToNewMarket(this.preferredMarket);\n      }\n      // bail from remaining script\n      return;\n    }\n\n    // instantiate OpenDialog class to manage dialog state and focus trap\n    this.dialogInstance = new OpenDialog(\n      this,\n      {\n        requiresOpenRef: false,\n        clickOutsideDeactivates: false,\n        clickOnBackdropDeactivates: false,\n        closeCallback: this.proceedWithCurrentMarket,\n      },\n      {\n        dialog: this.dialog,\n        close: this.closeButton,\n        trapContainer: this.trapContainer,\n      },\n    );\n\n    this.checkMarket();\n  }\n\n  get storageKey() {\n    return \"verso_preferred_market\";\n  }\n\n  get preferredMarket() {\n    return document.cookie\n      .split(\"; \")\n      .find((row) => row.startsWith(`${this.storageKey}=`))\n      ?.split(\"=\")[1];\n  }\n\n  get hasPreferredMarket() {\n    return (\n      this.preferredMarket === \"GB\" ||\n      this.preferredMarket === \"CA\" ||\n      this.preferredMarket === \"US\"\n    );\n  }\n\n  get currentMarketSubpath() {\n    const currentUrl = new URL(window.location);\n    if (currentUrl.pathname.startsWith(GBP_SUBPATH)) return \"GB\";\n    if (currentUrl.pathname.startsWith(CAD_SUBPATH)) return \"CA\";\n    return \"US\";\n  }\n\n  get form() {\n    return this.querySelector(\"form\");\n  }\n\n  get select() {\n    return this.querySelector(\"select\");\n  }\n\n  get dialog() {\n    const dialogId = this.dataset.dialogId;\n\n    if (!dialogId) return null;\n\n    return document.getElementById(dialogId);\n  }\n\n  get trapContainer() {\n    return this.dialog?.querySelector(\"[data-ref='trapContainer']\");\n  }\n\n  get closeButton() {\n    return this.dialog?.querySelector(\"button[data-ref='close']\");\n  }\n\n  get consentButton() {\n    return this.dialog?.querySelector(\"button[data-ref='consent']\");\n  }\n\n  get rejectButton() {\n    return this.dialog?.querySelector(\"button[data-ref='reject']\");\n  }\n\n  get currentMarketNode() {\n    return this.dialog?.querySelector(\"[data-ref='currentMarket']\");\n  }\n\n  get suggestedMarketNode() {\n    return this.dialog?.querySelector(\"[data-ref='suggestedMarket']\");\n  }\n\n  checkMarket = async () => {\n    const marketSuggestions = await fetch(\n      window.Shopify.routes.root +\n        \"browsing_context_suggestions.json\" +\n        \"?country[enabled]=true\" +\n        `&country[exclude]=${window.Shopify.country}`,\n    )\n      .then((response) => response.json())\n      .catch((error) => {\n        console.error(error);\n      });\n\n    const suggestedCountry =\n      marketSuggestions.suggestions[0]?.parts.country?.handle;\n    const suggestedMarket = this.getMarketForCountry(suggestedCountry);\n\n    // if Shopify suggests a different market for the customer based on their location,\n    // prompt user to consent to being redirected to right market site\n    if (suggestedMarket && this.currentMarketSubpath !== suggestedMarket) {\n      this.setMarketNodeText(this.currentMarketSubpath, suggestedMarket);\n      this.consentButton.addEventListener(\"click\", () =>\n        this.redirectToNewMarket(suggestedMarket),\n      );\n      this.rejectButton.addEventListener(\"click\", () =>\n        this.proceedWithCurrentMarket(this.currentMarketSubpath),\n      );\n      this.dialogInstance.setState({ open: true });\n    }\n  };\n\n  getMarketForCountry(country) {\n    if (!country) return undefined;\n    // treat all non-US/non-CA locations as UK/ROW market\n    return country !== \"US\" && country !== \"CA\" ? \"GB\" : country;\n  }\n\n  getMarketLabel(handle) {\n    const l10nKey = handle.toLowerCase();\n\n    switch (l10nKey) {\n      case \"ca\":\n        return \"Canada (CAD $)\";\n      case \"us\":\n        return \"United States (USD $)\";\n      case \"gb\":\n      case \"row\":\n        return \"UK/ROW (GBP )\";\n      default:\n        return handle;\n    }\n  }\n\n  setMarketNodeText(currentMarket, suggestedMarket) {\n    if (currentMarket && this.currentMarketNode) {\n      this.currentMarketNode.innerText = this.getMarketLabel(currentMarket);\n    }\n\n    if (suggestedMarket && this.suggestedMarketNode) {\n      this.suggestedMarketNode.innerText = this.getMarketLabel(suggestedMarket);\n    }\n  }\n\n  redirectToNewMarket = (preferredMarket) => {\n    this.select.value = preferredMarket;\n    this.form.requestSubmit();\n  };\n\n  proceedWithCurrentMarket = (market) => {\n    this.dialogInstance.setState({ open: false });\n    this.setPreferredMarket(market);\n  };\n\n  bindFormSubmit = () => {\n    this.form.addEventListener(\"submit\", (event) => {\n      const formData = new FormData(event.target);\n      const market = formData.get(\"country_code\");\n      this.setPreferredMarket(market);\n    });\n  };\n\n  // indicate in browser storage that user has expressed preferred market\n  setPreferredMarket = (market) => {\n    // let's be extra certain that an invalid value is never set in the cookie\n    if (market !== \"GB\" && market !== \"CA\" && market !== \"US\") return;\n\n    const expires = 60 * 60 * 24 * 14; // 14 days\n    document.cookie = `${this.storageKey}=${market};path=/;max-age=${expires}`;\n  };\n}\n","export default class NavLink extends HTMLElement {\n  constructor() {\n    super();\n\n    if (!this.linkEl || !this.linkPath || this.linkHasAriaCurrent) return;\n\n    if (this.linkIsCurrent) {\n      this.linkEl.setAttribute(\"aria-current\", \"page\");\n    } else if (this.ancestorIsCurrent) {\n      this.linkEl.classList.add(\"is-current\");\n    }\n  }\n\n  get linkEl() {\n    return this.querySelector(\"a\");\n  }\n\n  get linkHasAriaCurrent() {\n    const ariaCurrent = this.linkEl.getAttribute(\"aria-current\");\n    return ariaCurrent === \"page\";\n  }\n\n  get linkPath() {\n    if (!this.linkEl.href) return null;\n    const url = new URL(this.linkEl.href);\n    return url.pathname;\n  }\n\n  get currentPath() {\n    const url = new URL(window.location);\n    return url.pathname;\n  }\n\n  get linkIsCurrent() {\n    return this.linkPath === this.currentPath;\n  }\n\n  get ancestorIsCurrent() {\n    if (this.currentPath.startsWith(this.linkPath)) return true;\n    if (\n      this.isProductOrCollection(this.linkPath) &&\n      this.isProductOrCollection(this.currentPath)\n    )\n      return true;\n    return false;\n  }\n\n  isProductOrCollection(pathname) {\n    return (\n      pathname.startsWith(\"/products/\") || pathname.startsWith(\"/collections/\")\n    );\n  }\n}\n","export default class NextMonthTitle extends HTMLElement {\n  constructor() {\n    super();\n\n    this.innerText = this.nextMonthTitle;\n  }\n\n  get nextMonthTitle() {\n    // get current datetime for EST (to sync with when Book Club products turn over)\n    const nowESTLocaleString = new Date().toLocaleString(\"en-US\", {\n      timeZone: \"America/New_York\",\n    });\n    const nowEST = new Date(nowESTLocaleString);\n\n    const currentMonth = nowEST.getMonth();\n\n    /**\n     * When setting month, set day to `28` to avoid setting a date that doesn't exist.\n     * Doing so moves date to subsequent month (e.g. setting June 31 becomes July 1).\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setMonth#description\n     */\n    nowEST.setMonth(currentMonth + 1, 28);\n\n    return nowEST.toLocaleDateString(undefined, {\n      month: \"long\",\n    });\n  }\n}\n","export default class PageSelect extends HTMLElement {\n  constructor() {\n    super();\n\n    if (!this.select) return;\n\n    this.select.addEventListener(\"change\", (event) => {\n      const value = event.target.value;\n      if (value && value !== window.location.pathname) {\n        window.location.assign(`${value}`);\n      }\n    });\n  }\n\n  get select() {\n    return this.querySelector(\"select\");\n  }\n}\n","import debounce from \"lodash/debounce\";\n\nexport default class PredictiveSearch extends HTMLElement {\n  constructor() {\n    super();\n    this.cachedResults = {};\n\n    const self = this;\n    this.state = new Proxy(\n      {\n        open: false,\n        loading: false,\n      },\n      {\n        set(state, key, value) {\n          const oldValue = state[key];\n\n          state[key] = value;\n          if (oldValue !== value) {\n            switch (key) {\n              case \"loading\":\n                self.processLoadingChange();\n                break;\n              case \"open\":\n              default:\n                self.processOpenChange();\n            }\n          }\n          return state;\n        },\n      },\n    );\n\n    this.bindListeners();\n  }\n\n  get form() {\n    return this.querySelector(\"form\");\n  }\n\n  get input() {\n    return this.querySelector('input[type=\"search\"]');\n  }\n\n  get submit() {\n    return this.querySelector('[type=\"submit\"]');\n  }\n\n  get results() {\n    return this.querySelector(\"[data-predictive-search-results]\");\n  }\n\n  get limit() {\n    return 5;\n  }\n\n  bindListeners() {\n    this.form.addEventListener(\"submit\", this.onFormSubmit);\n    this.input.addEventListener(\n      \"input\",\n      debounce((event) => {\n        this.onChange(event);\n      }, 300),\n    );\n    this.input.addEventListener(\"focus\", this.onFocus);\n    this.addEventListener(\"focusout\", this.onFocusOut);\n    this.addEventListener(\"keyup\", this.onKeyup);\n    this.addEventListener(\"keydown\", this.onKeydown);\n  }\n\n  getQuery() {\n    return this.input.value.trim();\n  }\n\n  onFormSubmit = (event) => {\n    if (\n      this.submit.getAttribute(\"aria-disabled\") === \"true\" ||\n      this.querySelector('[aria-selected=\"true\"] a')\n    )\n      event.preventDefault();\n  };\n\n  onChange = () => {\n    const searchTerm = this.getQuery();\n\n    if (!searchTerm.length) {\n      this.state.open = false;\n      this.state.loading = false;\n      this.input.value = \"\";\n      return;\n    }\n    this.getSearchResults(searchTerm);\n  };\n\n  onFocus = () => {\n    const searchTerm = this.getQuery();\n\n    if (!searchTerm.length) return;\n\n    if (this.getAttribute(\"has-results\") === \"true\") {\n      this.state.open = true;\n    } else {\n      this.getSearchResults(searchTerm);\n    }\n  };\n\n  onFocusOut = () => {\n    setTimeout(() => {\n      if (!this.contains(document.activeElement)) {\n        this.state.open = false;\n        this.state.loading = false;\n      }\n    });\n  };\n\n  onKeyup = (event) => {\n    if (!this.getQuery().length) {\n      this.state.open = false;\n      this.state.loading = false;\n      this.input.value = \"\";\n    }\n    event.preventDefault();\n\n    switch (event.code) {\n      case \"ArrowUp\":\n        this.switchOption(\"up\");\n        break;\n      case \"ArrowDown\":\n        this.switchOption(\"down\");\n        break;\n      case \"Enter\":\n        this.selectOption();\n        break;\n    }\n  };\n\n  onKeydown = (event) => {\n    // Prevent the cursor from moving in the input when using the up and down arrow keys\n    if (event.code === \"ArrowUp\" || event.code === \"ArrowDown\") {\n      event.preventDefault();\n    }\n  };\n\n  switchOption(direction) {\n    if (!this.state.open || this.state.loading) return;\n\n    const moveUp = direction === \"up\";\n    const selectedElement = this.querySelector('[aria-selected=\"true\"]');\n    const allElements = this.querySelectorAll(\"li\");\n    let activeElement = this.querySelector(\"li\");\n\n    if (moveUp && !selectedElement) return;\n\n    this.statusElement.textContent = \"\";\n\n    if (!moveUp && selectedElement) {\n      activeElement = selectedElement.nextElementSibling || allElements[0];\n    } else if (moveUp) {\n      activeElement =\n        selectedElement.previousElementSibling ||\n        allElements[allElements.length - 1];\n    }\n\n    if (activeElement === selectedElement) return;\n\n    activeElement.setAttribute(\"aria-selected\", true);\n    if (selectedElement) selectedElement.setAttribute(\"aria-selected\", false);\n\n    this.setLiveRegionText(activeElement.textContent);\n    this.input.setAttribute(\"aria-activedescendant\", activeElement.id);\n  }\n\n  selectOption() {\n    const selectedProduct = this.querySelector(\n      '[aria-selected=\"true\"] a, [aria-selected=\"true\"] button',\n    );\n\n    if (selectedProduct) selectedProduct.click();\n  }\n\n  processOpenChange() {\n    this.input.setAttribute(\"aria-expanded\", this.state.open);\n    this.submit.setAttribute(\n      \"aria-disabled\",\n      !this.state.open && !this.input.value,\n    );\n    this.results.classList.toggle(\"is-open\", this.state.open);\n\n    if (!this.state.open) {\n      const selected = this.querySelector('[aria-selected=\"true\"]');\n      if (selected) selected.setAttribute(\"aria-selected\", false);\n      this.input.setAttribute(\"aria-activedescendant\", \"\");\n    }\n  }\n\n  processLoadingChange() {\n    this.loadingOverlay =\n      this.loadingOverlay || this.querySelector(\".c-loading-overlay\");\n\n    this.results.setAttribute(\"aria-busy\", this.state.loading);\n    this.results.classList.toggle(\"is-loading\", this.state.loading);\n    this.loadingOverlay.classList.toggle(\"hidden\", !this.state.loading);\n\n    if (this.state.loading) {\n      this.statusElement =\n        this.statusElement || this.querySelector(\".c-predictive-search-status\");\n      this.setLiveRegionText(this.dataset.loadingText);\n    }\n  }\n\n  getSearchResults(searchTerm) {\n    const queryKey = searchTerm.replace(\" \", \"-\").toLowerCase();\n    this.state.loading = true;\n\n    if (this.cachedResults[queryKey]) {\n      this.renderSearchResults(this.cachedResults[queryKey]);\n      return;\n    }\n\n    fetch(\n      // eslint-disable-next-line no-undef\n      `${routes.predictive_search_url}?q=${encodeURIComponent(\n        searchTerm,\n      )}&${encodeURIComponent(\n        \"resources[type]\",\n      )}=product,collection,article,page&${encodeURIComponent(\n        \"resources[limit]\",\n      )}=${this.limit}&section_id=predictive-search-results`,\n    )\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.text();\n      })\n      .then((text) => {\n        const resultsMarkup = new DOMParser()\n          .parseFromString(text, \"text/html\")\n          .querySelector(\n            \"#shopify-section-predictive-search-results\",\n          ).innerHTML;\n        this.cachedResults[queryKey] = resultsMarkup;\n        this.renderSearchResults(resultsMarkup);\n      })\n      .catch((error) => {\n        this.state.open = false;\n        this.state.loading = false;\n        throw error;\n      });\n  }\n\n  renderSearchResults(resultsMarkup) {\n    this.results.innerHTML = resultsMarkup;\n    this.setAttribute(\"has-results\", true);\n\n    this.setLiveRegionResults();\n    this.state.open = true;\n    this.state.loading = false;\n  }\n\n  setLiveRegionText(statusText) {\n    this.statusElement.setAttribute(\"aria-hidden\", \"false\");\n    this.statusElement.textContent = statusText;\n\n    setTimeout(() => {\n      this.statusElement.setAttribute(\"aria-hidden\", \"true\");\n    }, 1000);\n  }\n\n  setLiveRegionResults() {\n    this.setLiveRegionText(\n      this.querySelector(\"[data-predictive-search-live-region-count-value]\")\n        .textContent,\n    );\n  }\n}\n","export default class ProductRecommendations extends HTMLElement {\n  constructor() {\n    super();\n\n    const handleIntersection = (entries, observer) => {\n      if (!entries[0].isIntersecting) return;\n      observer.unobserve(this);\n\n      fetch(this.dataset.url)\n        .then((response) => response.text())\n        .then((text) => {\n          const html = document.createElement(\"div\");\n          html.innerHTML = text;\n          const recommendations = html.querySelector(\"product-recommendations\");\n\n          if (recommendations && recommendations.innerHTML.trim().length) {\n            this.innerHTML = recommendations.innerHTML;\n          }\n\n          this.classList.add(\"is-loaded\");\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    };\n\n    new IntersectionObserver(handleIntersection.bind(this), {\n      rootMargin: \"0px 0px 200px 0px\",\n    }).observe(this);\n  }\n}\n","export default class QuantityInput extends HTMLElement {\n  constructor() {\n    super();\n    this.input = this.querySelector(\"input\");\n    this.visibleQuantity = this.querySelector(\".visible-quantity\");\n    this.changeEvent = new Event(\"change\", { bubbles: true });\n\n    this.querySelectorAll(\"button\").forEach((button) =>\n      button.addEventListener(\"click\", this.onButtonClick.bind(this)),\n    );\n  }\n\n  onButtonClick(event) {\n    event.preventDefault();\n    const previousValue = this.input.value;\n\n    event.target.name === \"plus\" ? this.input.stepUp() : this.input.stepDown();\n\n    if (previousValue !== this.input.value) {\n      this.input.dispatchEvent(this.changeEvent);\n      this.visibleQuantity.innerText = this.input.value;\n    }\n  }\n}\n","// /account/register?email=domingovolkman%40example.com&given_name=Wilbert&family_name=Batz\n\nexport default class RegisterForm extends HTMLElement {\n  constructor() {\n    super();\n\n    if (!this.searchParams.size) return;\n\n    this.prepopulateInputs();\n  }\n\n  get searchParams() {\n    return new URLSearchParams(location.search);\n  }\n\n  get emailInput() {\n    return this.querySelector(\"[type='email']\");\n  }\n\n  get givenNameInput() {\n    return this.querySelector(\"[autocomplete='given-name']\");\n  }\n\n  get familyNameInput() {\n    return this.querySelector(\"[autocomplete='family-name']\");\n  }\n\n  get passwordInput() {\n    return this.querySelector(\"[type='password']\");\n  }\n\n  prepopulateInputs() {\n    this.populateEmail();\n    this.populateGivenName();\n    this.populateFamilyName();\n\n    if (this.emailInput.value) {\n      this.passwordInput?.focus();\n    }\n  }\n\n  populateEmail() {\n    if (!this.searchParams.has(\"email\") || !this.emailInput) return;\n    const value = this.searchParams.get(\"email\");\n    this.emailInput.value = value;\n  }\n\n  populateGivenName() {\n    if (!this.searchParams.has(\"given_name\") || !this.givenNameInput) return;\n    const value = this.searchParams.get(\"given_name\");\n    this.givenNameInput.value = value;\n  }\n\n  populateFamilyName() {\n    if (!this.searchParams.has(\"family_name\") || !this.familyNameInput) return;\n    const value = this.searchParams.get(\"family_name\");\n    this.familyNameInput.value = value;\n  }\n}\n","/**\n * Attempt to fetch a filtered list of articles for a\n */\nexport default class RelatedArticles extends HTMLElement {\n  constructor() {\n    super();\n\n    this.listNode = this.querySelector(\"[data-ref='list']\");\n    this.viewAllNode = this.querySelector(\"[data-ref='view-all']\");\n  }\n\n  connectedCallback() {\n    if (!this.fetchUrl || !this.listNode) return;\n\n    fetch(this.fetchUrl)\n      .then((response) => response.text())\n      .then((response) => {\n        const parser = new DOMParser();\n\n        const responseDoc = parser.parseFromString(response, \"text/html\");\n        const responseListItems = responseDoc?.querySelectorAll(\n          \"ul[data-ref='article-grid'] > li\",\n        );\n\n        if (!responseListItems?.length) return;\n\n        const slicedList = Array.from(responseListItems).slice(0, this.limit);\n        // append items to existing list\n        for (const item of slicedList) {\n          const heading = item.querySelector(\"h2\");\n          heading.setAttribute(\"aria-level\", \"3\");\n          this.listNode.appendChild(item);\n        }\n\n        // create viewAllLink href and show if more articles than visible limit\n        const viewAllLink = this.viewAllNode?.querySelector(\"a\");\n        if (viewAllLink && responseListItems.length > this.limit) {\n          viewAllLink.setAttribute(\"href\", this.fetchUrl);\n          this.viewAllNode.removeAttribute(\"hidden\");\n        }\n\n        this.removeAttribute(\"inert\");\n      })\n      .catch((error) => console.warn(error));\n  }\n\n  get blog() {\n    return this.dataset.blog;\n  }\n\n  get tag() {\n    return this.dataset.tag;\n  }\n\n  get limit() {\n    return 3;\n  }\n\n  get fetchUrl() {\n    if (!this.blog || !this.tag) return null;\n    return `/blogs/${this.blog}/tagged/${this.tag}`;\n  }\n}\n","export default class RemoveItem extends HTMLElement {\n  constructor() {\n    super();\n\n    this.button = this.querySelector(\"button\");\n    this.removeEvent = new Event(\"remove\", { bubbles: true });\n\n    this.button.addEventListener(\"click\", this.onClick.bind(this));\n  }\n\n  onClick(event) {\n    event.preventDefault();\n    this.button.dispatchEvent(this.removeEvent);\n  }\n}\n","export default class RemoveItem extends HTMLElement {\n  constructor() {\n    super();\n    if (!this.toggle || !this.content) return;\n    const self = this;\n    this.state = new Proxy(\n      {\n        open: false,\n      },\n      {\n        set(state, key, value) {\n          const oldValue = state[key];\n\n          state[key] = value;\n          if (oldValue !== value) {\n            self.processStateChange();\n          }\n          return state;\n        },\n      },\n    );\n\n    this.bindClick();\n  }\n\n  get toggle() {\n    return this.querySelector(\"button[data-ref='toggle']\");\n  }\n\n  get content() {\n    return this.querySelector(\"[data-ref='content']\");\n  }\n\n  get contentId() {\n    return this.content.id;\n  }\n\n  get contentInner() {\n    return this.querySelector(\"[data-ref='inner']\");\n  }\n\n  get buttonFrame() {\n    return this.querySelector(\"[data-ref='frame']\");\n  }\n\n  processStateChange() {\n    this.toggle.setAttribute(\"aria-expanded\", this.state.open);\n    this.content.classList.toggle(\"is-hidden\", !this.state.open);\n    const maxHeightKey = \"--panel-max-height\";\n    this.content.style.setProperty(\n      maxHeightKey,\n      `${this.contentInner.scrollHeight}px`,\n    );\n\n    const observer = new IntersectionObserver(\n      ([e]) => e.target.classList.toggle(\"is-pinned\", e.intersectionRatio < 1),\n      { threshold: [1] },\n    );\n    observer.observe(this.buttonFrame);\n  }\n\n  bindClick() {\n    this.toggle.setAttribute(\"aria-controls\", this.content.id);\n    this.toggle.addEventListener(\n      \"click\",\n      () => (this.state.open = !this.state.open),\n    );\n  }\n}\n","import Percolator from \"./js/helpers/Percolator\";\nimport behaviors from \"./js/behaviors\";\nimport {\n  AddToCart,\n  AnnouncementBar,\n  ArticleContent,\n  CartItems,\n  FreeShippingProgress,\n  LoadMore,\n  LocalizationForm,\n  NavLink,\n  NextMonthTitle,\n  PageSelect,\n  PredictiveSearch,\n  ProductRecommendations,\n  QuantityInput,\n  RegisterForm,\n  RelatedArticles,\n  RemoveItem,\n  ShowHide,\n} from \"./js/components\";\n\nimport \"./css/main.css\";\n\nconst percolator = new Percolator();\n\npercolator.loadBehaviors(behaviors.content);\npercolator.loadBehaviors(behaviors.site);\n\ncustomElements.define(\"add-to-cart\", AddToCart);\ncustomElements.define(\"announcement-bar\", AnnouncementBar);\ncustomElements.define(\"article-content\", ArticleContent);\ncustomElements.define(\"cart-items\", CartItems);\ncustomElements.define(\"free-shipping-progress\", FreeShippingProgress);\ncustomElements.define(\"load-more\", LoadMore);\ncustomElements.define(\"localization-form\", LocalizationForm);\ncustomElements.define(\"nav-link\", NavLink);\ncustomElements.define(\"next-month-title\", NextMonthTitle);\ncustomElements.define(\"page-select\", PageSelect);\ncustomElements.define(\"predictive-search\", PredictiveSearch);\ncustomElements.define(\"product-recommendations\", ProductRecommendations);\ncustomElements.define(\"quantity-input\", QuantityInput);\ncustomElements.define(\"register-form\", RegisterForm);\ncustomElements.define(\"related-articles\", RelatedArticles);\ncustomElements.define(\"remove-item\", RemoveItem);\ncustomElements.define(\"show-hide\", ShowHide);\n","export default class Percolator {\n  constructor(options = {}) {\n    const defaultOptions = {\n      behaviorAttr: \"[data-behavior]\",\n      refAttr: \"[data-ref]\",\n      loadedKey: \"loaded\", // [data-loaded]\n      propsKey: \"props\", // [data-props]\n    };\n\n    this.options = Object.assign({}, defaultOptions, options);\n  }\n\n  setOptions(options) {\n    this.options = Object.assign({}, this.options, options);\n  }\n\n  attrToKey(attr) {\n    return attr.match(/\\[data-([-\\w]+)/)[1];\n  }\n\n  getRefsObject(els) {\n    const obj = {};\n    // Get any named refs inside the parent\n    [...els].forEach((el) => {\n      const attr = el.dataset[this.attrToKey(this.options.refAttr)];\n      // If ref attributes are named, pass them\n      // as an object to the parent\n      if (attr.length > 0) {\n        // Often, there is only one element per ref\n        // So save it as a singular element\n        if (!obj[attr]) {\n          obj[attr] = el;\n        } else {\n          // Unless there\n          // are more than one, then use an array\n          obj[attr] = Array.isArray(obj[attr])\n            ? obj[attr].concat([el])\n            : [obj[attr], el];\n        }\n      }\n    });\n\n    return obj;\n  }\n\n  checkLoaded(dataset, name) {\n    const loadedKey = this.options.loadedKey;\n    return dataset?.[loadedKey]?.indexOf(name) === -1;\n  }\n\n  validateMatch(el, attr, group, loader) {\n    const { loadedKey } = this.options;\n    const name = el.dataset[this.attrToKey(attr)];\n\n    // For each match, get the value of its directive name\n    // and check if it exists in the loader group\n    if (group?.[name]) {\n      // If so, use the private loadBehavior function\n      // Only if the match doesn't have the loaded attribute\n      if (!this.checkLoaded(el.dataset, name)) {\n        // Record the name of the script loaded on the el in html\n        el.dataset[loadedKey] = el.dataset[loadedKey]\n          ? el.dataset[loadedKey] + ` ${name}`\n          : name;\n        loader(el, group[name]);\n      }\n    }\n  }\n\n  loadGroup(group, parent, attr, loader) {\n    // Load JS behaviors (classes that act on existing markup)\n    const matches = parent.querySelectorAll(attr);\n\n    [...matches].forEach((match) => {\n      // Validate each match and pass it to private loader\n      this.validateMatch(match, attr, group, loader);\n    });\n  }\n\n  // Frontend APIs\n  // --------------------\n  // Can be used to load a single Behavior from JS or\n  // used internally\n  loadBehavior = (el, Behavior, jsProps = {}, jsRefs = {}) => {\n    const { refAttr, propsKey } = this.options;\n    const htmlRefs = el.querySelectorAll(refAttr);\n\n    // Refs and props can be provided via JS or HTML\n    // and they get combined here\n    const refs = Object.assign({}, jsRefs, this.getRefsObject(htmlRefs));\n\n    const props = Object.assign(\n      {},\n      jsProps,\n      el.dataset?.[propsKey] ? JSON.parse(el.dataset[propsKey]) : {},\n      this.getPropsStartingWith(el.dataset, propsKey),\n    );\n\n    // Behaviors get loaded with props and refs\n    const loaded = new Behavior(el, props, refs);\n\n    return loaded;\n  };\n\n  loadBehaviors(group, parent = document) {\n    // Take a group of JS classes and instantiate them on any dom elements\n    // that match the class name and are not loaded\n    const attr = this.options.behaviorAttr;\n\n    this.loadGroup(group, parent, attr, this.loadBehavior);\n  }\n\n  getPropsStartingWith(dataset, prepend) {\n    const obj = {};\n    for (const key in dataset) {\n      if (key.indexOf(prepend) === 0) {\n        const dasherizedKey = this.dasherize(key).substring(prepend.length + 1);\n        if (dasherizedKey.length > 0) obj[dasherizedKey] = dataset[key];\n      }\n    }\n    return obj;\n  }\n\n  dasherize(str) {\n    return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n  }\n}\n"],"names":["Object","defineProperty","exports","value","fluidScaleRemBase","fluidScalePxBase","fluidScaleCalc","fluidScaleBase","pxToRem","stripUnit","DEFAULT_BREAKPOINTS","max","min","maxVw","minVw","maxNum","maxValue","minValue","arguments","length","undefined","maxPx","minPx","maxVwRem","minVwRem","pxPerRem","maxRem","minRem","parseFloat","slope","toFixed","unit","parseInt","toString","replace","px","base","_appearance","require","keys","forEach","key","enumerable","get","_base","_state","_typography","_layout","hasScrollLock","position","width","overflow","p","a","c","document","addEventListener","attachEvent","w","this","g","createElement","setAttribute","appendChild","createTextNode","h","i","m","j","l","style","cssText","x","B","offsetWidth","b","scrollLeft","scrollWidth","C","e","parentNode","D","window","family","weight","stretch","context","E","F","G","H","M","fonts","N","font","q","join","prototype","load","J","Date","getTime","Promise","K","L","test","navigator","vendor","exec","userAgent","I","O","r","t","Error","then","n","setTimeout","P","race","clearTimeout","body","removeEventListener","readyState","detachEvent","u","d","k","y","z","A","f","removeChild","v","dir","hidden","module","isBrowser","passiveEventsSupported","supported","options","passive","err","isSupported","bind","documentElement","assign","requestAnimationFrame","isDocument","obj","nodeType","isWindow","windowScroller","win","doc","html","scrollHeight","Math","offsetHeight","clientHeight","height","innerHeight","scrollY","pageYOffset","scrollTop","elementScroller","element","createScroller","trackScroll","callback","rafId","isPassiveSupported","scrolled","scroller","lastScrollY","details","update","round","direction","distance","abs","isOutOfBounds","top","offset","bottom","toleranceExceeded","tolerance","handleScroll","eventOptions","capture","destroy","cancelAnimationFrame","normalizeUpDown","down","up","Headroom","elem","classes","initialised","frozen","constructor","init","cutsTheMustard","addClass","self","scrollTracker","removeClass","unpin","hasClass","onUnpin","call","pin","onPin","freeze","unfreeze","onTop","notTop","onNotTop","onBottom","notBottom","onNotBottom","shouldUnpin","shouldPin","className","classList","add","apply","split","remove","every","cls","contains","pinned","unpinned","initial","factory","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","trimmedEndIndex","reTrimStart","string","slice","freeGlobal","global","objectProto","hasOwnProperty","nativeObjectToString","isOwn","tag","unmasked","result","freeSelf","root","Function","reWhitespace","index","charAt","isObject","now","toNumber","nativeMax","nativeMin","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","type","baseGetTag","isObjectLike","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","valueOf","isBinary","hasOwn","classNames","arg","appendClass","parseValue","Array","isArray","includes","newClass","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","globalThis","prop","candidateSelectors","candidateSelector","NoElement","Element","matches","msMatchesSelector","webkitMatchesSelector","getRootNode","_element$getRootNode","ownerDocument","isInert","node","lookUp","_node$getAttribute","inertAtt","getAttribute","getCandidates","el","includeContainer","filter","candidates","querySelectorAll","unshift","getCandidatesIteratively","elements","elementsToCheck","from","shift","tagName","assigned","assignedElements","nestedCandidates","children","flatten","push","scopeParent","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","hasTabIndex","isNaN","getTabIndex","tabIndex","_node$getAttribute2","attValue","isContentEditable","sortOrderedTabbables","documentOrder","isInput","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","queryRadios","CSS","escape","console","error","message","checked","nodes","getCheckedRadio","isTabbableRadio","isZeroArea","_node$getBoundingClie","getBoundingClientRect","isHidden","_ref","displayCheck","getComputedStyle","visibility","nodeUnderDetails","parentElement","originalNode","rootNode","assignedSlot","host","_nodeRoot","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","nodeRoot","nodeRootHost","attached","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isNodeAttached","getClientRects","isNodeMatchingSelectorFocusable","disabled","isHiddenInput","some","child","isDetailsWithSummary","item","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","isScope","candidateTabindex","getSortOrderTabIndex","content","sort","reduce","acc","sortable","concat","isTabbable","focusableCandidateSelector","isFocusable","activeFocusTraps","trapStack","trap","activeTrap","_setPausedState","trapIndex","indexOf","splice","_isManuallyPaused","isTabEvent","keyCode","isKeyForward","shiftKey","isKeyBackward","delay","fn","valueOrHandler","_len","params","_key","getActualTarget","event","target","composedPath","internalTrapStack","createFocusTrap","userOptions","config","_objectSpread","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","manuallyPaused","delayInitialFocusTimer","recentNavEvent","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","findIndex","container","tabbableNodes","find","getNodeForOption","_ref2","_ref2$hasFallback","hasFallback","_ref2$params","optionValue","_toConsumableArray","querySelector","getInitialFocusNode","tabbableOptions","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbable","focusableNodes","focusable","lastTabbableNode","firstDomTabbableNode","lastDomTabbableNode","reverse","posTabIndexesFound","nextTabbableNode","forward","nodeIdx","group","getActiveElement","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","findNextNavNode","_ref3","_ref3$isBackward","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref4","destinationGroupIndex","destinationGroup","lastOfGroupIndex","_ref5","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","preventDefault","checkFocusIn","targetContained","Document","nextNode","stopImmediatePropagation","navAcrossContainers","mruContainerIdx","mruTabIdx","checkTabKey","checkKeyNav","checkEscapeKey","checkClick","addListeners","removeListeners","mutationObserver","MutationObserver","mutations","mutation","removedNodes","updateObservedNodes","disconnect","observe","subtree","childList","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","pause","pauseOptions","unpause","unpauseOptions","updateContainerElements","containerElements","elementsAsArray","Boolean","defineProperties","onPause","onPostPause","onUnpause","onPostUnpause","StatefulBehavior","setState","next","trapContainers","results","resolve","interval","setInterval","clearInterval","all","enhanceAnchorIntoButton","removeAttribute","OpenDialog","Sb","props","refs","super","open","shouldDisable","removeDialogFromDOM","dialogRef","requiresOpenRef","openRef","initDialogClass","trapFocus","trapContainer","initialFocus","initialFocusRef","bindToggles","bindBackdropClick","closeRef","close","dialog","ref","backdropRef","disableOnPage","location","pathname","clickOnBackdropDeactivates","toggle","id","closeCallback","BREAKPOINT","site","ObserveFontFace","FontFaceObserver","fontFamily","fontOptions","onLoad","catch","testString","SetCSSProperties","ticking","setCSSProperties","bindResize","observeAnnouncementBarMutations","header","announcementBar","setHeaderHeight","setAnnouncementBarHeight","setVwUnit","requestTick","mutationList","attributeName","attributes","setProperty","viewportWidth","clientWidth","ShrinkHeaderOnScroll","supportsSticky","headroom","headroomOptions","supports","ToggleDrawer","returnId","defaultReturnId","toggles","initOverlayClass","overlay","initBodyClass","setReturnFocus","getElementById","bindRemoteToggle","bindOverlayClick","excludeToggleFromTrap","dataset","controls","origin","drawerId","drawerAction","toggleId","data","debouncedClientSize","debounce","matchMedia","fetchConfig","method","headers","Accept","AddToCart","HTMLElement","shouldPushToKlaviyo","bindButtonClick","addButton","loadingOverlay","errorContainer","errorTextEl","cartDrawerComponent","cartDrawerId","handleButtonClick","enableLoading","variantId","sellingPlanId","sellingPlanGroupId","discountCode","JSON","stringify","items","quantity","selling_plan","sections","sectionsToRender","section","fetch","routes","cart_add_url","response","json","status","handleErrorMessage","description","updateSectionHTML","toggleEmptyClass","postMessage","cookie","row","startsWith","encodeURIComponent","pushEventToKlaviyo","finally","disableLoading","textContent","_learnq","cart_url","cart","total_price","$value","total_discount","original_total_price","AnnouncementBar","hasDismissed","hideElement","showElement","bindDismissClick","Shopify","designMode","dismissButton","storageKey","storageValue","sessionStorage","getItem","doDismiss","setItem","GBP_SUBPATH","CAD_SUBPATH","ArticleContent","connectedCallback","anchorNodes","maybeRelativizeAnchor","innerHTML","insertProductStrips","currentUrl","URL","productStripRegex","indexRegex","styleRegex","defaultStyle","altStyle","productStripClassName","productStripIdPrefix","productStripInstances","match","hasProductStrips","href","anchorUrl","basePathname","marketPathname","currency","getMarketSubpath","market","instance","insertProductStrip","indexMatch","groups","indexString","productStripEl","styleMatch","instanceRegex","stringToRegExp","outerHTML","flags","RegExp","CartItems","lineItemStatusElement","currentItemCount","quantityInputs","total","quantityInput","debouncedOnChange","onChange","debouncedOnRemove","onRemove","input","selector","updateQuantity","line","sections_url","cart_change_url","text","parsedState","parse","updateLiveRegions","item_count","maybeFocusLineItem","cartStrings","elementToReplace","updatedSectionElement","getParsedSectionElement","cartTotal","DOMParser","parseFromString","itemCount","lineItemError","quantityElement","quantityError","cartStatus","lineItem","blur","FreeShippingProgress","detectedCountry","hasDeterminedCountry","static","browsingContext","country","detectedCountryHandle","detected_values","handle","updateProgress","attributeChangedCallback","threshold","getThresholdForCountry","progress","Number","updateProgressBar","updateProgressText","progressEl","progressTextEl","difference","differenceInMoney","formatCurrency","shippingType","getShippingTypeForCountry","countryCode","getCurrencyForCountry","number","Intl","NumberFormat","currencyDisplay","format","LoadMore","updatePaginationCount","pagination","list","loadButtonWrapper","loadButton","canLoadMore","doLoadMore","currentPage","page","searchParams","pageSize","listSelector","countSelector","countNode","sectionId","fetchUrl","set","String","responseDoc","responseListItems","updatedUrl","history","pushState","paginationFirstNode","paginationLastNode","paginationTotalNode","backToLinkNode","initialOffset","innerText","updatePaginationNumber","localizedValue","LocalizationForm","bindFormSubmit","checkMarket","closeButton","consentButton","rejectButton","hasPreferredMarket","preferredMarket","currentMarketSubpath","redirectToNewMarket","dialogInstance","proceedWithCurrentMarket","dialogId","currentMarketNode","suggestedMarketNode","async","marketSuggestions","suggestedCountry","suggestions","parts","suggestedMarket","getMarketForCountry","setMarketNodeText","getMarketLabel","currentMarket","requestSubmit","setPreferredMarket","FormData","NavLink","linkEl","linkPath","linkHasAriaCurrent","linkIsCurrent","ancestorIsCurrent","currentPath","isProductOrCollection","NextMonthTitle","nextMonthTitle","nowESTLocaleString","toLocaleString","timeZone","nowEST","currentMonth","getMonth","setMonth","toLocaleDateString","month","PageSelect","PredictiveSearch","cachedResults","Proxy","loading","oldValue","processLoadingChange","processOpenChange","bindListeners","submit","limit","onFormSubmit","onFocus","onFocusOut","onKeyup","onKeydown","getQuery","trim","searchTerm","getSearchResults","code","switchOption","selectOption","moveUp","selectedElement","allElements","statusElement","nextElementSibling","previousElementSibling","setLiveRegionText","selectedProduct","click","selected","loadingText","queryKey","renderSearchResults","predictive_search_url","ok","resultsMarkup","setLiveRegionResults","statusText","ProductRecommendations","IntersectionObserver","entries","observer","isIntersecting","unobserve","url","recommendations","rootMargin","QuantityInput","visibleQuantity","changeEvent","Event","bubbles","button","onButtonClick","previousValue","stepUp","stepDown","dispatchEvent","RegisterForm","size","prepopulateInputs","URLSearchParams","search","emailInput","givenNameInput","familyNameInput","passwordInput","populateEmail","populateGivenName","populateFamilyName","has","RelatedArticles","listNode","viewAllNode","slicedList","viewAllLink","warn","blog","RemoveItem","removeEvent","onClick","processStateChange","bindClick","contentId","contentInner","buttonFrame","intersectionRatio","percolator","behaviorAttr","refAttr","loadedKey","propsKey","setOptions","attrToKey","attr","getRefsObject","els","checkLoaded","validateMatch","loader","loadGroup","parent","loadBehavior","Behavior","jsProps","jsRefs","htmlRefs","getPropsStartingWith","loadBehaviors","prepend","dasherizedKey","dasherize","substring","str","behaviors","customElements","define","ShowHide"],"sourceRoot":""}