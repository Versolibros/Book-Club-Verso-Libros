{"version":3,"file":"recharge.js","mappings":"yBAGe,MAAMA,UAAuBC,YAStCC,mBACF,OAAOC,KAAKC,MAAMC,KAAKC,QAAQJ,cAG7BK,eACF,OAAOF,KAAKH,aAAaM,sBAAwB,MAG/CC,YACF,OAAOC,OAAOL,KAAKH,aAAaO,OAG9BE,qBACF,OAAO,IAAIC,KAAKC,kBAAaC,EAAW,CACtCC,MAAO,WACPR,SAAUF,KAAKE,WACdS,OAAOX,KAAKI,OAxBjBQ,cACEC,QAEKb,KAAKH,cAAiBG,KAAKI,QAEhCJ,KAAKc,UAAYd,KAAKM,iBCN1BS,eAAeC,OAAO,kBAAmBrB,GAQzC,MAAMsB,EAAaC,SAASC,cAC1B,qEAEEF,GAAcG,OAAOC,OAAOC,aAC9BL,EAAWM,aAAa,OAAQH,OAAOC,OAAOC,a","sources":["webpack://verso-shopify-theme/./src/js/components/LocalizedPrice.js","webpack://verso-shopify-theme/./src/recharge.js"],"sourcesContent":["/**\n * A Web Component to get currency displaying correctly in Recharge\n */\nexport default class LocalizedPrice extends HTMLElement {\n  constructor() {\n    super();\n\n    if (!this.subscription || !this.price) return;\n\n    this.innerHTML = this.localizedPrice;\n  }\n\n  get subscription() {\n    return JSON.parse(this.dataset.subscription);\n  }\n\n  get currency() {\n    return this.subscription.presentment_currency ?? \"USD\";\n  }\n\n  get price() {\n    return Number(this.subscription.price);\n  }\n\n  get localizedPrice() {\n    return new Intl.NumberFormat(undefined, {\n      style: \"currency\",\n      currency: this.currency,\n    }).format(this.price);\n  }\n}\n","import \"./css/recharge.css\";\nimport LocalizedPrice from \"./js/components/LocalizedPrice\";\n\ncustomElements.define(\"localized-price\", LocalizedPrice);\n\n/**\n * Change Recharge \"Return to login\" URL on customer portal page\n * shown to users who don't have a subscription. Redirect back to\n * account page (/account) rather than login\n */\n\nconst returnLink = document.querySelector(\n  \".recharge.page__customers__request-invite [href='/account/login']\"\n);\nif (returnLink && window.routes.account_url) {\n  returnLink.setAttribute(\"href\", window.routes.account_url);\n}\n"],"names":["LocalizedPrice","HTMLElement","subscription","JSON","parse","this","dataset","currency","presentment_currency","price","Number","localizedPrice","Intl","NumberFormat","undefined","style","format","constructor","super","innerHTML","customElements","define","returnLink","document","querySelector","window","routes","account_url","setAttribute"],"sourceRoot":""}