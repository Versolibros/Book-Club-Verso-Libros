{"version":3,"file":"recharge.js","mappings":"yBAIe,MAAMA,UAAuBC,YAK/BC,gCACT,MAAO,CAAC,aAAc,iBAGxBC,gBACE,MAAMC,EAAWC,KAAKC,QAAQF,SACxBG,EAAQC,OAAOH,KAAKC,QAAQC,OAElC,IAAKH,IAAaG,EAAO,OAEzB,MAAME,EAAiB,IAAIC,KAAKC,kBAAaC,EAAW,CACtDC,MAAO,WACPT,SAAUA,IACTU,OAAOP,GAEVF,KAAKU,UAAYN,EAGnBO,oBACEX,KAAKF,gBAGPc,2BACEZ,KAAKF,gBA3BPe,cACEC,SCHJC,eAAeC,OAAO,kBAAmBrB,GAQzC,MAAMsB,EAAaC,SAASC,cAC1B,qEAEEF,GAAcG,OAAOC,OAAOC,aAC9BL,EAAWM,aAAa,OAAQH,OAAOC,OAAOC,a","sources":["webpack://verso-shopify-theme/./src/js/components/LocalizedPrice.js","webpack://verso-shopify-theme/./src/recharge.js"],"sourcesContent":["/**\n * A Web Component to get currency displaying correctly in Recharge\n * Usage: <localized-price data-price=\"{{ subscription.price }}\" data-currency=\"{{ subscription.presentment_currency }}\"></localized-price>\n */\nexport default class LocalizedPrice extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  static get observedAttributes() {\n    return [\"data-price\", \"data-currency\"];\n  }\n\n  localizePrice() {\n    const currency = this.dataset.currency;\n    const price = Number(this.dataset.price);\n\n    if (!currency || !price) return;\n\n    const localizedPrice = new Intl.NumberFormat(undefined, {\n      style: \"currency\",\n      currency: currency,\n    }).format(price);\n\n    this.innerHTML = localizedPrice;\n  }\n\n  connectedCallback() {\n    this.localizePrice();\n  }\n\n  attributeChangedCallback() {\n    this.localizePrice();\n  }\n}\n","import \"./css/recharge.css\";\nimport LocalizedPrice from \"./js/components/LocalizedPrice\";\n\ncustomElements.define(\"localized-price\", LocalizedPrice);\n\n/**\n * Change Recharge \"Return to login\" URL on customer portal page\n * shown to users who don't have a subscription. Redirect back to\n * account page (/account) rather than login\n */\n\nconst returnLink = document.querySelector(\n  \".recharge.page__customers__request-invite [href='/account/login']\"\n);\nif (returnLink && window.routes.account_url) {\n  returnLink.setAttribute(\"href\", window.routes.account_url);\n}\n"],"names":["LocalizedPrice","HTMLElement","observedAttributes","localizePrice","currency","this","dataset","price","Number","localizedPrice","Intl","NumberFormat","undefined","style","format","innerHTML","connectedCallback","attributeChangedCallback","constructor","super","customElements","define","returnLink","document","querySelector","window","routes","account_url","setAttribute"],"sourceRoot":""}